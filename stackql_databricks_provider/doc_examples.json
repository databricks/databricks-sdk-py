{
  "_comment": "Additional example tabs to inject into generated resource docs. Run add_doc_examples.py after doc generation to apply. Each entry targets a specific resource page and injects tabs into the SELECT examples section.",
  "examples": [
    {
      "provider": "databricks_account",
      "service": "billing",
      "resource": "billable_usage",
      "section": "select",
      "tabs": [
        {
          "label": "Export to CSV",
          "value": "export_to_csv",
          "content": "Export billable usage data to a local CSV file using the StackQL CLI:\n\n```bash\n./stackql exec \\\n  -o text \\\n  --hideheaders \\\n  -f billable_usage.csv \\\n  \"SELECT contents \n  FROM databricks_account.billing.billable_usage \n  WHERE start_month = '2025-12' \n  AND end_month = '2026-01' \n  AND account_id = 'your-account-id'\"\n```\n\nThis downloads the usage data in CSV format directly from the Databricks API."
        }
      ]
    },
    {
      "provider": "databricks_account",
      "service": "iam",
      "resource": "workspace_assignment",
      "section": "select",
      "tabs": [
        {
          "label": "Workspaces with assignments",
          "value": "workspaces_with_assignments",
          "content": "Join workspaces with their principal assignments:\n\n```sql\nSELECT\n  w.workspace_id,\n  w.workspace_name,\n  w.workspace_status,\n  JSON_EXTRACT(wa.principal, '$.display_name') as display_name,\n  JSON_EXTRACT(wa.principal, '$.principal_id') as principal_id,\n  JSON_EXTRACT(wa.principal, '$.service_principal_name') as service_principal_name,\n  wa.permissions,\n  wa.error\nFROM databricks_account.provisioning.workspaces w\nLEFT JOIN databricks_account.iam.workspace_assignment wa\nON w.workspace_id = wa.workspace_id\nWHERE account_id = '{{ account_id }}';\n```"
        }
      ]
    }        
  ]
}