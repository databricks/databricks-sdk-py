    vw_all_settings:
      name: vw_all_settings
      id: databricks_workspace.settings.vw_all_settings
      config:
        docs:
          fields:
          - name: property
            type: string
            description: The name of the workspace setting (only non-null values are included).
          - name: value
            type: string
            description: The value of the workspace setting (only non-null values are included).
          requiredParams:
          - name: deployment_name
            type: string
            description: Workspace deployment name used to scope the query.
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT key, value
              FROM (
                SELECT
                  json_object(
                  'enableWebTerminal', enableWebTerminal,
                    'enableTokensConfig', enableTokensConfig,
                    'maxTokenLifetimeDays', maxTokenLifetimeDays,
                    'enableWorkspaceFilesystem', enableWorkspaceFilesystem,
                    'enableExportNotebook', enableExportNotebook,
                    'enableNotebookTableClipboard', enableNotebookTableClipboard,
                    'enableResultsDownloading', enableResultsDownloading,
                    'enableDcs', enableDcs,
                    'enableGp3', enableGp3,
                    'mlflowRunArtifactDownloadEnabled', mlflowRunArtifactDownloadEnabled,
                    'enableUploadDataUis', enableUploadDataUis,
                    'storeInteractiveNotebookResultsInCustomerAccount', storeInteractiveNotebookResultsInCustomerAccount,
                    'enableDeprecatedGlobalInitScripts', enableDeprecatedGlobalInitScripts,
                    'rStudioUserDefaultHomeBase', rStudioUserDefaultHomeBase,
                    'enforceUserIsolation', enforceUserIsolation,
                    'enableProjectsAllowList', enableProjectsAllowList,
                    'projectsAllowListPermissions', projectsAllowListPermissions,
                    'projectsAllowList', projectsAllowList,
                    'reposIpynbResultsExportPermissions', reposIpynbResultsExportPermissions,
                    'enableDbfsFileBrowser', enableDbfsFileBrowser,
                    'enableDatabricksAutologgingAdminConf', enableDatabricksAutologgingAdminConf,
                    'mlflowModelServingEndpointCreationEnabled', mlflowModelServingEndpointCreationEnabled,
                    'enableVerboseAuditLogs', enableVerboseAuditLogs,
                    'enableFileStoreEndpoint', enableFileStoreEndpoint,
                    'loginLogo', loginLogo,
                    'productName', productName,
                    'homePageLogo', homePageLogo,
                    'homePageLogoWidth', homePageLogoWidth,
                    'homePageWelcomeMessage', homePageWelcomeMessage,
                    'sidebarLogoText', sidebarLogoText,
                    'sidebarLogoActive', sidebarLogoActive,
                    'sidebarLogoInactive', sidebarLogoInactive,
                    'customReferences', customReferences,
                    'loginLogoWidth', loginLogoWidth,
                    'enforceWorkspaceViewAcls', enforceWorkspaceViewAcls,
                    'enforceClusterViewAcls', enforceClusterViewAcls,
                    'enableJobViewAcls', enableJobViewAcls,
                    'enableHlsRuntime', enableHlsRuntime,
                    'enableEnforceImdsV2', enableEnforceImdsV2,
                    'enableJobsEmailsV2', enableJobsEmailsV2,
                    'enableProjectTypeInWorkspace', enableProjectTypeInWorkspace,
                    'mlflowModelRegistryEmailNotificationsEnabled', mlflowModelRegistryEmailNotificationsEnabled,
                    'heapAnalyticsAdminConsent', heapAnalyticsAdminConsent,
                    'jobsListBackendPaginationEnabled', jobsListBackendPaginationEnabled,
                    'jobsListBackendPaginationOptOut', jobsListBackendPaginationOptOut
                  ) AS settings_object,
                  json_each.key,
                  json_each.value
                FROM databricks_workspace.settings.workspace_config c,
                    json_each(settings_object)
                WHERE keys='enableWebTerminal,enableTokensConfig,maxTokenLifetimeDays,enableWorkspaceFilesystem,enableExportNotebook,enableNotebookTableClipboard,enableResultsDownloading,enableDcs,enableGp3,mlflowRunArtifactDownloadEnabled,enableUploadDataUis,storeInteractiveNotebookResultsInCustomerAccount,enableDeprecatedGlobalInitScripts,rStudioUserDefaultHomeBase,enforceUserIsolation,enableProjectsAllowList,projectsAllowListPermissions,projectsAllowList,reposIpynbResultsExportPermissions,enableDbfsFileBrowser,enableDatabricksAutologgingAdminConf,mlflowModelServingEndpointCreationEnabled,enableVerboseAuditLogs,enableFileStoreEndpoint,loginLogo,productName,homePageLogo,homePageLogoWidth,homePageWelcomeMessage,sidebarLogoText,sidebarLogoActive,sidebarLogoInactive,customReferences,loginLogoWidth,enforceWorkspaceViewAcls,enforceClusterViewAcls,enableJobViewAcls,enableHlsRuntime,enableEnforceImdsV2,enableJobsEmailsV2,enableProjectTypeInWorkspace,mlflowModelRegistryEmailNotificationsEnabled,heapAnalyticsAdminConsent,jobsListBackendPaginationEnabled,jobsListBackendPaginationOptOut'
                  AND deployment_name='{{ deployment_name }}'
              ) t WHERE value IS NOT NULL;

            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT key, value
                FROM (
                  SELECT
                    (jsonb_build_object(
                      'enableWebTerminal', enableWebTerminal,
                      'enableTokensConfig', enableTokensConfig,
                      'maxTokenLifetimeDays', maxTokenLifetimeDays,
                      'enableWorkspaceFilesystem', enableWorkspaceFilesystem,
                      'enableExportNotebook', enableExportNotebook,
                      'enableNotebookTableClipboard', enableNotebookTableClipboard,
                      'enableResultsDownloading', enableResultsDownloading,
                      'enableDcs', enableDcs,
                      'enableGp3', enableGp3,
                      'mlflowRunArtifactDownloadEnabled', mlflowRunArtifactDownloadEnabled,
                      'enableUploadDataUis', enableUploadDataUis,
                      'storeInteractiveNotebookResultsInCustomerAccount', storeInteractiveNotebookResultsInCustomerAccount,
                      'enableDeprecatedGlobalInitScripts', enableDeprecatedGlobalInitScripts,
                      'rStudioUserDefaultHomeBase', rStudioUserDefaultHomeBase,
                      'enforceUserIsolation', enforceUserIsolation,
                      'enableProjectsAllowList', enableProjectsAllowList,
                      'projectsAllowListPermissions', projectsAllowListPermissions,
                      'projectsAllowList', projectsAllowList,
                      'reposIpynbResultsExportPermissions', reposIpynbResultsExportPermissions,
                      'enableDbfsFileBrowser', enableDbfsFileBrowser,
                      'enableDatabricksAutologgingAdminConf', enableDatabricksAutologgingAdminConf,
                      'mlflowModelServingEndpointCreationEnabled', mlflowModelServingEndpointCreationEnabled,
                      'enableVerboseAuditLogs', enableVerboseAuditLogs,
                      'enableFileStoreEndpoint', enableFileStoreEndpoint,
                      'loginLogo', loginLogo,
                      'productName', productName,
                      'homePageLogo', homePageLogo,
                      'homePageLogoWidth', homePageLogoWidth,
                      'homePageWelcomeMessage', homePageWelcomeMessage,
                      'sidebarLogoText', sidebarLogoText,
                      'sidebarLogoActive', sidebarLogoActive,
                      'sidebarLogoInactive', sidebarLogoInactive,
                      'customReferences', customReferences,
                      'loginLogoWidth', loginLogoWidth,
                      'enforceWorkspaceViewAcls', enforceWorkspaceViewAcls,
                      'enforceClusterViewAcls', enforceClusterViewAcls,
                      'enableJobViewAcls', enableJobViewAcls,
                      'enableHlsRuntime', enableHlsRuntime,
                      'enableEnforceImdsV2', enableEnforceImdsV2,
                      'enableJobsEmailsV2', enableJobsEmailsV2,
                      'enableProjectTypeInWorkspace', enableProjectTypeInWorkspace,
                      'mlflowModelRegistryEmailNotificationsEnabled', mlflowModelRegistryEmailNotificationsEnabled,
                      'heapAnalyticsAdminConsent', heapAnalyticsAdminConsent,
                      'jobsListBackendPaginationEnabled', jobsListBackendPaginationEnabled,
                      'jobsListBackendPaginationOptOut', jobsListBackendPaginationOptOut
                    )) AS settings_object
                  FROM databricks_workspace.settings.workspace_config c
                  WHERE keys='enableWebTerminal,enableTokensConfig,maxTokenLifetimeDays,enableWorkspaceFilesystem,enableExportNotebook,enableNotebookTableClipboard,enableResultsDownloading,enableDcs,enableGp3,mlflowRunArtifactDownloadEnabled,enableUploadDataUis,storeInteractiveNotebookResultsInCustomerAccount,enableDeprecatedGlobalInitScripts,rStudioUserDefaultHomeBase,enforceUserIsolation,enableProjectsAllowList,projectsAllowListPermissions,projectsAllowList,reposIpynbResultsExportPermissions,enableDbfsFileBrowser,enableDatabricksAutologgingAdminConf,mlflowModelServingEndpointCreationEnabled,enableVerboseAuditLogs,enableFileStoreEndpoint,loginLogo,productName,homePageLogo,homePageLogoWidth,homePageWelcomeMessage,sidebarLogoText,sidebarLogoActive,sidebarLogoInactive,customReferences,loginLogoWidth,enforceWorkspaceViewAcls,enforceClusterViewAcls,enableJobViewAcls,enableHlsRuntime,enableEnforceImdsV2,enableJobsEmailsV2,enableProjectTypeInWorkspace,mlflowModelRegistryEmailNotificationsEnabled,heapAnalyticsAdminConsent,jobsListBackendPaginationEnabled,jobsListBackendPaginationOptOut'
                    AND deployment_name='{{ deployment_name }}'
                ) t, LATERAL jsonb_each_text(t.settings_object)
                WHERE value IS NOT NULL;