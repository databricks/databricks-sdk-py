openapi: 3.0.0
info:
  title: Databricks Agentbricks API (workspace)
  description: >-
    OpenAPI specification for the Databricks agentbricks service
    (workspace-level APIs), generated from the Databricks Python SDK.
  version: 0.1.0
  x-stackql-sdk-version: 0.86.0
  x-stackql-date-generated: '2026-02-12'
  x-stackql-sdk-namespace: databricks.sdk.service.agentbricks
servers:
  - url: https://{deployment_name}.cloud.databricks.com
    variables:
      deployment_name:
        description: The Databricks Workspace Deployment Name
        default: dbc-abcd0123-a1bc
paths:
  /api/2.0/custom-llms/{id}/optimize/cancel:
    post:
      operationId: agent_bricks_cancel_optimize
      summary: Cancel a Custom LLM Optimization Run.
      tags:
        - agentbricks
        - agent_bricks
      description: |-
        Cancel a Custom LLM Optimization Run.

        :param id: str
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: str
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AgentBricksAPI
  /api/2.0/custom-llms:
    post:
      operationId: agent_bricks_create_custom_llm
      summary: Create a Custom LLM.
      tags:
        - agentbricks
        - agent_bricks
      description: |-
        Create a Custom LLM.

        :param name: str
          Name of the custom LLM. Only alphanumeric characters and dashes allowed.
        :param instructions: str
          Instructions for the custom LLM to follow
        :param agent_artifact_path: str (optional)
          This will soon be deprecated!! Optional: UC path for agent artifacts. If you are using a dataset
          that you only have read permissions, please provide a destination path where you have write
          permissions. Please provide this in catalog.schema format.
        :param datasets: List[:class:`Dataset`] (optional)
          Datasets used for training and evaluating the model, not for inference. Currently, only 1 dataset is
          accepted.
        :param guidelines: List[str] (optional)
          Guidelines for the custom LLM to adhere to

        :returns: :class:`CustomLlm`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: >-
                    Name of the custom LLM. Only alphanumeric characters and
                    dashes allowed.
                instructions:
                  type: string
                  description: Instructions for the custom LLM to follow
                agent_artifact_path:
                  type: string
                  description: >-
                    This will soon be deprecated!! Optional: UC path for agent
                    artifacts. If you are using a dataset that you only have
                    read permissions, please provide a destination path where
                    you have write permissions. Please provide this in
                    catalog.schema format.
                datasets:
                  type: string
                  description: >-
                    Datasets used for training and evaluating the model, not for
                    inference. Currently, only 1 dataset is accepted.
                guidelines:
                  type: string
                  description: Guidelines for the custom LLM to adhere to
              required:
                - name
                - instructions
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomLlm'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AgentBricksAPI
  /api/2.0/custom-llms/{id}:
    delete:
      operationId: agent_bricks_delete_custom_llm
      summary: Delete a Custom LLM.
      tags:
        - agentbricks
        - agent_bricks
      description: |-
        Delete a Custom LLM.

        :param id: str
          The id of the custom llm
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The id of the custom llm
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AgentBricksAPI
    get:
      operationId: agent_bricks_get_custom_llm
      summary: Get a Custom LLM.
      tags:
        - agentbricks
        - agent_bricks
      description: |-
        Get a Custom LLM.

        :param id: str
          The id of the custom llm

        :returns: :class:`CustomLlm`
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The id of the custom llm
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomLlm'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AgentBricksAPI
    patch:
      operationId: agent_bricks_update_custom_llm
      summary: Update a Custom LLM.
      tags:
        - agentbricks
        - agent_bricks
      description: |-
        Update a Custom LLM.

        :param id: str
          The id of the custom llm
        :param custom_llm: :class:`CustomLlm`
          The CustomLlm containing the fields which should be updated.
        :param update_mask: str
          The list of the CustomLlm fields to update. These should correspond to the values (or lack thereof)
          present in `custom_llm`.

          The field mask must be a single string, with multiple fields separated by commas (no spaces). The
          field path is relative to the resource object, using a dot (`.`) to navigate sub-fields (e.g.,
          `author.given_name`). Specification of elements in sequence or map fields is not allowed, as only
          the entire collection field can be specified. Field names must exactly match the resource field
          names.

          A field mask of `*` indicates full replacement. It’s recommended to always explicitly list the
          fields being updated and avoid using `*` wildcards, as it can lead to unintended results if the API
          changes in the future.

        :returns: :class:`CustomLlm`
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The id of the custom llm
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                custom_llm:
                  type: string
                  description: The CustomLlm containing the fields which should be updated.
                update_mask:
                  type: string
                  description: >-
                    The list of the CustomLlm fields to update. These should
                    correspond to the values (or lack thereof) present in
                    `custom_llm`. The field mask must be a single string, with
                    multiple fields separated by commas (no spaces). The field
                    path is relative to the resource object, using a dot (`.`)
                    to navigate sub-fields (e.g., `author.given_name`).
                    Specification of elements in sequence or map fields is not
                    allowed, as only the entire collection field can be
                    specified. Field names must exactly match the resource field
                    names. A field mask of `*` indicates full replacement. It’s
                    recommended to always explicitly list the fields being
                    updated and avoid using `*` wildcards, as it can lead to
                    unintended results if the API changes in the future.
              required:
                - custom_llm
                - update_mask
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomLlm'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AgentBricksAPI
  /api/2.0/custom-llms/{id}/optimize:
    post:
      operationId: agent_bricks_start_optimize
      summary: Start a Custom LLM Optimization Run.
      tags:
        - agentbricks
        - agent_bricks
      description: |-
        Start a Custom LLM Optimization Run.

        :param id: str
          The Id of the tile.

        :returns: :class:`CustomLlm`
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The Id of the tile.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomLlm'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AgentBricksAPI
components:
  schemas:
    CustomLlm:
      type: object
      properties:
        name:
          type: string
        instructions:
          type: string
          description: Instructions for the custom LLM to follow
        agent_artifact_path:
          type: string
        creation_time:
          type: string
          description: Creation timestamp of the custom LLM
        creator:
          type: string
          description: Creator of the custom LLM
        datasets:
          type: array
          items:
            $ref: '#/components/schemas/Dataset'
          description: >-
            Datasets used for training and evaluating the model, not for
            inference
        endpoint_name:
          type: string
          description: Name of the endpoint that will be used to serve the custom LLM
        guidelines:
          type: array
          items:
            type: string
          description: Guidelines for the custom LLM to adhere to
        id:
          type: string
        optimization_state:
          $ref: '#/components/schemas/State'
          description: If optimization is kicked off, tracks the state of the custom LLM
      required:
        - name
        - instructions
    Dataset:
      type: object
      properties:
        table:
          $ref: '#/components/schemas/Table'
      required:
        - table
    Table:
      type: object
      properties:
        table_path:
          type: string
        request_col:
          type: string
          description: Name of the request column
        response_col:
          type: string
          description: 'Optional: Name of the response column if the data is labeled'
      required:
        - table_path
        - request_col
    State:
      type: string
      enum:
        - CANCELLED
        - COMPLETED
        - CREATED
        - FAILED
        - PENDING
        - RUNNING
      description: States of Custom LLM optimization lifecycle.
  x-stackQL-resources:
    custom_llms:
      id: databricks_workspace.agentbricks.custom_llms
      name: custom_llms
      title: Custom Llms
      methods:
        cancel_optimize:
          operation:
            $ref: '#/paths/~1api~12.0~1custom-llms~1{id}~1optimize~1cancel/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        create:
          operation:
            $ref: '#/paths/~1api~12.0~1custom-llms/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete:
          operation:
            $ref: '#/paths/~1api~12.0~1custom-llms~1{id}/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        get:
          operation:
            $ref: '#/paths/~1api~12.0~1custom-llms~1{id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update:
          operation:
            $ref: '#/paths/~1api~12.0~1custom-llms~1{id}/patch'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        start_optimize:
          operation:
            $ref: '#/paths/~1api~12.0~1custom-llms~1{id}~1optimize/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/custom_llms/methods/get'
        insert:
          - $ref: '#/components/x-stackQL-resources/custom_llms/methods/create'
        update:
          - $ref: '#/components/x-stackQL-resources/custom_llms/methods/update'
        delete:
          - $ref: '#/components/x-stackQL-resources/custom_llms/methods/delete'
        replace: []
