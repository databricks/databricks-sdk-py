openapi: 3.0.0
info:
  title: Databricks Iam API (account)
  description: OpenAPI specification for the Databricks iam service (account-level APIs), generated from the Databricks Python
    SDK.
  version: 0.1.0
  x-stackql-sdk-version: 0.86.0
  x-stackql-date-generated: '2026-02-24'
  x-stackql-sdk-namespace: databricks.sdk.service.iam
servers:
- url: https://accounts.cloud.databricks.com
paths:
  /api/2.0/preview/accounts/{account_id}/access-control/assignable-roles:
    get:
      operationId: account_access_control_get_assignable_roles_for_resource
      summary: Gets all the roles that can be granted on an account level resource. A role is grantable if the rule
      tags:
      - iam
      - account_access_control
      description: |-
        Gets all the roles that can be granted on an account level resource. A role is grantable if the rule
        set on the resource can contain an access rule of the role.

        :param resource: str
          The resource name for which assignable roles will be listed.

          Examples | Summary :--- | :--- `resource=accounts/<ACCOUNT_ID>` | A resource name for the account.
          `resource=accounts/<ACCOUNT_ID>/groups/<GROUP_ID>` | A resource name for the group.
          `resource=accounts/<ACCOUNT_ID>/servicePrincipals/<SP_ID>` | A resource name for the service
          principal. `resource=accounts/<ACCOUNT_ID>/tagPolicies/<TAG_POLICY_ID>` | A resource name for the
          tag policy.

        :returns: :class:`GetAssignableRolesForResourceResponse`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: resource
        in: query
        required: true
        schema:
          type: string
        description: The resource name for which assignable roles will be listed. Examples | Summary :--- | :--- `resource=accounts/<ACCOUNT_ID>`
          | A resource name for the account. `resource=accounts/<ACCOUNT_ID>/groups/<GROUP_ID>` | A resource name for the
          group. `resource=accounts/<ACCOUNT_ID>/servicePrincipals/<SP_ID>` | A resource name for the service principal. `resource=accounts/<ACCOUNT_ID>/tagPolicies/<TAG_POLICY_ID>`
          | A resource name for the tag policy.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAssignableRolesForResourceResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountAccessControlAPI
  /api/2.0/preview/accounts/{account_id}/access-control/rule-sets:
    get:
      operationId: account_access_control_get_rule_set
      summary: Get a rule set by its name. A rule set is always attached to a resource and contains a list of access
      tags:
      - iam
      - account_access_control
      description: |-
        Get a rule set by its name. A rule set is always attached to a resource and contains a list of access
        rules on the said resource. Currently only a default rule set for each resource is supported.

        :param name: str
          The ruleset name associated with the request.

          Examples | Summary :--- | :--- `name=accounts/<ACCOUNT_ID>/ruleSets/default` | A name for a rule set
          on the account. `name=accounts/<ACCOUNT_ID>/groups/<GROUP_ID>/ruleSets/default` | A name for a rule
          set on the group.
          `name=accounts/<ACCOUNT_ID>/servicePrincipals/<SERVICE_PRINCIPAL_APPLICATION_ID>/ruleSets/default` |
          A name for a rule set on the service principal.
          `name=accounts/<ACCOUNT_ID>/tagPolicies/<TAG_POLICY_ID>/ruleSets/default` | A name for a rule set on
          the tag policy.
        :param etag: str
          Etag used for versioning. The response is at least as fresh as the eTag provided. Etag is used for
          optimistic concurrency control as a way to help prevent simultaneous updates of a rule set from
          overwriting each other. It is strongly suggested that systems make use of the etag in the read ->
          modify -> write pattern to perform rule set updates in order to avoid race conditions that is get an
          etag from a GET rule set request, and pass it with the PUT update request to identify the rule set
          version you are updating.

          Examples | Summary :--- | :--- `etag=` | An empty etag can only be used in GET to indicate no
          freshness requirements. `etag=RENUAAABhSweA4NvVmmUYdiU717H3Tgy0UJdor3gE4a+mq/oj9NjAf8ZsQ==` | An
          etag encoded a specific version of the rule set to get or to be updated.

        :returns: :class:`RuleSetResponse`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: name
        in: query
        required: true
        schema:
          type: string
        description: The ruleset name associated with the request. Examples | Summary :--- | :--- `name=accounts/<ACCOUNT_ID>/ruleSets/default`
          | A name for a rule set on the account. `name=accounts/<ACCOUNT_ID>/groups/<GROUP_ID>/ruleSets/default` | A name
          for a rule set on the group. `name=accounts/<ACCOUNT_ID>/servicePrincipals/<SERVICE_PRINCIPAL_APPLICATION_ID>/ruleSets/default`
          | A name for a rule set on the service principal. `name=accounts/<ACCOUNT_ID>/tagPolicies/<TAG_POLICY_ID>/ruleSets/default`
          | A name for a rule set on the tag policy.
      - name: etag
        in: query
        required: true
        schema:
          type: string
        description: Etag used for versioning. The response is at least as fresh as the eTag provided. Etag is used for optimistic
          concurrency control as a way to help prevent simultaneous updates of a rule set from overwriting each other. It
          is strongly suggested that systems make use of the etag in the read -> modify -> write pattern to perform rule set
          updates in order to avoid race conditions that is get an etag from a GET rule set request, and pass it with the
          PUT update request to identify the rule set version you are updating. Examples | Summary :--- | :--- `etag=` | An
          empty etag can only be used in GET to indicate no freshness requirements. `etag=RENUAAABhSweA4NvVmmUYdiU717H3Tgy0UJdor3gE4a+mq/oj9NjAf8ZsQ==`
          | An etag encoded a specific version of the rule set to get or to be updated.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RuleSetResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountAccessControlAPI
    put:
      operationId: account_access_control_update_rule_set
      summary: Replace the rules of a rule set. First, use get to read the current version of the rule set before
      tags:
      - iam
      - account_access_control
      description: |-
        Replace the rules of a rule set. First, use get to read the current version of the rule set before
        modifying it. This pattern helps prevent conflicts between concurrent updates.

        :param name: str
          Name of the rule set.
        :param rule_set: :class:`RuleSetUpdateRequest`

        :returns: :class:`RuleSetResponse`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Name of the rule set.
                rule_set:
                  type: object
                  properties:
                    name:
                      type: string
                    etag:
                      type: string
                      description: Identifies the version of the rule set returned. Etag used for versioning. The response
                        is at least as fresh as the eTag provided. Etag is used for optimistic concurrency control as a way
                        to help prevent simultaneous updates of a rule set from overwriting each other. It is strongly suggested
                        that systems make use of the etag in the read -> modify -> write pattern to perform rule set updates
                        in order to avoid race conditions that is get an etag from a GET rule set request, and pass it with
                        the PUT update request to identify the rule set version you are updating.
                    grant_rules:
                      type: array
                      items:
                        type: object
                        properties:
                          role:
                            type: string
                          principals:
                            type: array
                            items:
                              type: string
                            description: 'Principals this grant rule applies to. A principal can be a user (for end users),
                              a service principal (for applications and compute workloads), or an account group. Each principal
                              has its own identifier format: * users/<USERNAME> * groups/<GROUP_NAME> * servicePrincipals/<SERVICE_PRINCIPAL_APPLICATION_ID>'
                        required:
                        - role
                  required:
                  - name
                  - etag
                  description: ':returns: :class:`RuleSetResponse`'
              required:
              - name
              - rule_set
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RuleSetResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountAccessControlAPI
  /api/2.0/accounts/{account_id}/scim/v2/Groups:
    post:
      operationId: account_groups_v2_create
      summary: Creates a group in the Databricks account with a unique name, using the supplied group details.
      tags:
      - iam
      - account_groups_v2
      description: |-
        Creates a group in the Databricks account with a unique name, using the supplied group details.

        :param display_name: str (optional)
          String that represents a human-readable group name
        :param external_id: str (optional)
        :param id: str (optional)
          Databricks group ID
        :param members: List[:class:`ComplexValue`] (optional)
        :param meta: :class:`ResourceMeta` (optional)
          Container for the group identifier. Workspace local versus account.
        :param roles: List[:class:`ComplexValue`] (optional)
          Indicates if the group has the admin role.

        :returns: :class:`AccountGroup`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                display_name:
                  type: string
                  description: String that represents a human-readable group name
                external_id:
                  type: string
                  description: ':param id: str (optional) Databricks group ID'
                id:
                  type: string
                members:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
                  description: ':param meta: :class:`ResourceMeta` (optional) Container for the group identifier. Workspace
                    local versus account.'
                meta:
                  type: object
                  properties:
                    resourceType:
                      type: string
                roles:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
                  description: Indicates if the group has the admin role.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountGroup'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountGroupsV2API
    get:
      operationId: account_groups_v2_list
      summary: Gets all details of the groups associated with the Databricks account. As of 08/22/2025, this endpoint
      tags:
      - iam
      - account_groups_v2
      description: |-
        Gets all details of the groups associated with the Databricks account. As of 08/22/2025, this endpoint
        will no longer return members. Instead, members should be retrieved by iterating through `Get group
        details`. Existing accounts that rely on this attribute will not be impacted and will continue
        receiving member data as before.

        :param attributes: str (optional)
          Comma-separated list of attributes to return in response.
        :param count: int (optional)
          Desired number of results per page. Default is 10000.
        :param excluded_attributes: str (optional)
          Comma-separated list of attributes to exclude in response.
        :param filter: str (optional)
          Query by which the results have to be filtered. Supported operators are equals(`eq`),
          contains(`co`), starts with(`sw`) and not equals(`ne`). Additionally, simple expressions can be
          formed using logical operators - `and` and `or`. The [SCIM RFC] has more details but we currently
          only support simple expressions.

          [SCIM RFC]: https://tools.ietf.org/html/rfc7644#section-3.4.2.2
        :param sort_by: str (optional)
          Attribute to sort the results.
        :param sort_order: :class:`ListSortOrder` (optional)
          The order to sort the results.
        :param start_index: int (optional)
          Specifies the index of the first result. First item is number 1.

        :returns: Iterator over :class:`AccountGroup`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: attributes
        in: query
        required: false
        schema:
          type: string
        description: Comma-separated list of attributes to return in response.
      - name: count
        in: query
        required: false
        schema:
          type: integer
        description: Desired number of results per page. Default is 10000.
      - name: excluded_attributes
        in: query
        required: false
        schema:
          type: string
        description: Comma-separated list of attributes to exclude in response.
      - name: filter
        in: query
        required: false
        schema:
          type: string
        description: 'Query by which the results have to be filtered. Supported operators are equals(`eq`), contains(`co`),
          starts with(`sw`) and not equals(`ne`). Additionally, simple expressions can be formed using logical operators -
          `and` and `or`. The [SCIM RFC] has more details but we currently only support simple expressions. [SCIM RFC]: https://tools.ietf.org/html/rfc7644#section-3.4.2.2'
      - name: sort_by
        in: query
        required: false
        schema:
          type: string
        description: Attribute to sort the results.
      - name: sort_order
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/ListSortOrder'
        description: The order to sort the results.
      - name: start_index
        in: query
        required: false
        schema:
          type: integer
        description: Specifies the index of the first result. First item is number 1.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListAccountGroupsResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountGroupsV2API
  /api/2.0/accounts/{account_id}/scim/v2/Groups/{id}:
    delete:
      operationId: account_groups_v2_delete
      summary: Deletes a group from the Databricks account.
      tags:
      - iam
      - account_groups_v2
      description: |-
        Deletes a group from the Databricks account.

        :param id: str
          Unique ID for a group in the Databricks account.
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Unique ID for a group in the Databricks account.
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountGroupsV2API
    get:
      operationId: account_groups_v2_get
      summary: Gets the information for a specific group in the Databricks account.
      tags:
      - iam
      - account_groups_v2
      description: |-
        Gets the information for a specific group in the Databricks account.

        :param id: str
          Unique ID for a group in the Databricks account.

        :returns: :class:`AccountGroup`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Unique ID for a group in the Databricks account.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountGroup'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountGroupsV2API
    patch:
      operationId: account_groups_v2_patch
      summary: Partially updates the details of a group.
      tags:
      - iam
      - account_groups_v2
      description: |-
        Partially updates the details of a group.

        :param id: str
          Unique ID in the Databricks workspace.
        :param operations: List[:class:`Patch`] (optional)
        :param schemas: List[:class:`PatchSchema`] (optional)
          The schema of the patch request. Must be ["urn:ietf:params:scim:api:messages:2.0:PatchOp"].
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Unique ID in the Databricks workspace.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                operations:
                  type: array
                  items:
                    type: object
                    properties:
                      op:
                        type: string
                        x-enum:
                        - add
                        - remove
                        - replace
                        description: Type of patch operation.
                      path:
                        type: string
                        description: Selection of patch operation
                      value:
                        type: object
                        description: Value to modify
                  description: ':param schemas: List[:class:`PatchSchema`] (optional) The schema of the patch request. Must
                    be ["urn:ietf:params:scim:api:messages:2.0:PatchOp"].'
                schemas:
                  type: array
                  items:
                    type: string
                    x-enum:
                    - urn:ietf:params:scim:api:messages:2.0:PatchOp
                    description: |-
                      Create a collection of name/value pairs.

                      Example enumeration:

                      >>> class Color(Enum):
                      ...     RED = 1
                      ...     BLUE = 2
                      ...     GREEN = 3

                      Access them by:

                      - attribute access::

                      >>> Color.RED
                      <Color.RED: 1>

                      - value lookup:

                      >>> Color(1)
                      <Color.RED: 1>

                      - name lookup:

                      >>> Color['RED']
                      <Color.RED: 1>

                      Enumerations can be iterated over, and know how many members they have:

                      >>> len(Color)
                      3

                      >>> list(Color)
                      [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

                      Methods can be added to enumerations, and members can have their own
                      attributes -- see the documentation for details.
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountGroupsV2API
    put:
      operationId: account_groups_v2_update
      summary: Updates the details of a group by replacing the entire group entity.
      tags:
      - iam
      - account_groups_v2
      description: |-
        Updates the details of a group by replacing the entire group entity.

        :param id: str
          Databricks group ID
        :param display_name: str (optional)
          String that represents a human-readable group name
        :param external_id: str (optional)
        :param members: List[:class:`ComplexValue`] (optional)
        :param meta: :class:`ResourceMeta` (optional)
          Container for the group identifier. Workspace local versus account.
        :param roles: List[:class:`ComplexValue`] (optional)
          Indicates if the group has the admin role.
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Databricks group ID
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                display_name:
                  type: string
                  description: String that represents a human-readable group name
                external_id:
                  type: string
                  description: ':param members: List[:class:`ComplexValue`] (optional)'
                members:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
                meta:
                  type: object
                  properties:
                    resourceType:
                      type: string
                  description: Container for the group identifier. Workspace local versus account.
                roles:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
                  description: Indicates if the group has the admin role.
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountGroupsV2API
  /api/2.0/accounts/{account_id}/scim/v2/ServicePrincipals:
    post:
      operationId: account_service_principals_v2_create
      summary: Creates a new service principal in the Databricks account.
      tags:
      - iam
      - account_service_principals_v2
      description: |-
        Creates a new service principal in the Databricks account.

        :param active: bool (optional)
          If this user is active
        :param application_id: str (optional)
          UUID relating to the service principal
        :param display_name: str (optional)
          String that represents a concatenation of given and family names.
        :param external_id: str (optional)
        :param id: str (optional)
          Databricks service principal ID.
        :param roles: List[:class:`ComplexValue`] (optional)
          Indicates if the group has the admin role.

        :returns: :class:`AccountServicePrincipal`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                active:
                  type: boolean
                  description: If this user is active
                application_id:
                  type: string
                  description: UUID relating to the service principal
                display_name:
                  type: string
                  description: String that represents a concatenation of given and family names.
                external_id:
                  type: string
                  description: ':param id: str (optional) Databricks service principal ID.'
                id:
                  type: string
                roles:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
                  description: Indicates if the group has the admin role.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountServicePrincipal'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountServicePrincipalsV2API
    get:
      operationId: account_service_principals_v2_list
      summary: Gets the set of service principals associated with a Databricks account.
      tags:
      - iam
      - account_service_principals_v2
      description: |-
        Gets the set of service principals associated with a Databricks account.

        :param attributes: str (optional)
          Comma-separated list of attributes to return in response.
        :param count: int (optional)
          Desired number of results per page. Default is 10000.
        :param excluded_attributes: str (optional)
          Comma-separated list of attributes to exclude in response.
        :param filter: str (optional)
          Query by which the results have to be filtered. Supported operators are equals(`eq`),
          contains(`co`), starts with(`sw`) and not equals(`ne`). Additionally, simple expressions can be
          formed using logical operators - `and` and `or`. The [SCIM RFC] has more details but we currently
          only support simple expressions.

          [SCIM RFC]: https://tools.ietf.org/html/rfc7644#section-3.4.2.2
        :param sort_by: str (optional)
          Attribute to sort the results.
        :param sort_order: :class:`ListSortOrder` (optional)
          The order to sort the results.
        :param start_index: int (optional)
          Specifies the index of the first result. First item is number 1.

        :returns: Iterator over :class:`AccountServicePrincipal`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: attributes
        in: query
        required: false
        schema:
          type: string
        description: Comma-separated list of attributes to return in response.
      - name: count
        in: query
        required: false
        schema:
          type: integer
        description: Desired number of results per page. Default is 10000.
      - name: excluded_attributes
        in: query
        required: false
        schema:
          type: string
        description: Comma-separated list of attributes to exclude in response.
      - name: filter
        in: query
        required: false
        schema:
          type: string
        description: 'Query by which the results have to be filtered. Supported operators are equals(`eq`), contains(`co`),
          starts with(`sw`) and not equals(`ne`). Additionally, simple expressions can be formed using logical operators -
          `and` and `or`. The [SCIM RFC] has more details but we currently only support simple expressions. [SCIM RFC]: https://tools.ietf.org/html/rfc7644#section-3.4.2.2'
      - name: sort_by
        in: query
        required: false
        schema:
          type: string
        description: Attribute to sort the results.
      - name: sort_order
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/ListSortOrder'
        description: The order to sort the results.
      - name: start_index
        in: query
        required: false
        schema:
          type: integer
        description: Specifies the index of the first result. First item is number 1.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListAccountServicePrincipalsResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountServicePrincipalsV2API
  /api/2.0/accounts/{account_id}/scim/v2/ServicePrincipals/{id}:
    delete:
      operationId: account_service_principals_v2_delete
      summary: Delete a single service principal in the Databricks account.
      tags:
      - iam
      - account_service_principals_v2
      description: |-
        Delete a single service principal in the Databricks account.

        :param id: str
          Unique ID for a service principal in the Databricks account.
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Unique ID for a service principal in the Databricks account.
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountServicePrincipalsV2API
    get:
      operationId: account_service_principals_v2_get
      summary: Gets the details for a single service principal define in the Databricks account.
      tags:
      - iam
      - account_service_principals_v2
      description: |-
        Gets the details for a single service principal define in the Databricks account.

        :param id: str
          Unique ID for a service principal in the Databricks account.

        :returns: :class:`AccountServicePrincipal`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Unique ID for a service principal in the Databricks account.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountServicePrincipal'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountServicePrincipalsV2API
    patch:
      operationId: account_service_principals_v2_patch
      summary: Partially updates the details of a single service principal in the Databricks account.
      tags:
      - iam
      - account_service_principals_v2
      description: |-
        Partially updates the details of a single service principal in the Databricks account.

        :param id: str
          Unique ID in the Databricks workspace.
        :param operations: List[:class:`Patch`] (optional)
        :param schemas: List[:class:`PatchSchema`] (optional)
          The schema of the patch request. Must be ["urn:ietf:params:scim:api:messages:2.0:PatchOp"].
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Unique ID in the Databricks workspace.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                operations:
                  type: array
                  items:
                    type: object
                    properties:
                      op:
                        type: string
                        x-enum:
                        - add
                        - remove
                        - replace
                        description: Type of patch operation.
                      path:
                        type: string
                        description: Selection of patch operation
                      value:
                        type: object
                        description: Value to modify
                  description: ':param schemas: List[:class:`PatchSchema`] (optional) The schema of the patch request. Must
                    be ["urn:ietf:params:scim:api:messages:2.0:PatchOp"].'
                schemas:
                  type: array
                  items:
                    type: string
                    x-enum:
                    - urn:ietf:params:scim:api:messages:2.0:PatchOp
                    description: |-
                      Create a collection of name/value pairs.

                      Example enumeration:

                      >>> class Color(Enum):
                      ...     RED = 1
                      ...     BLUE = 2
                      ...     GREEN = 3

                      Access them by:

                      - attribute access::

                      >>> Color.RED
                      <Color.RED: 1>

                      - value lookup:

                      >>> Color(1)
                      <Color.RED: 1>

                      - name lookup:

                      >>> Color['RED']
                      <Color.RED: 1>

                      Enumerations can be iterated over, and know how many members they have:

                      >>> len(Color)
                      3

                      >>> list(Color)
                      [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

                      Methods can be added to enumerations, and members can have their own
                      attributes -- see the documentation for details.
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountServicePrincipalsV2API
    put:
      operationId: account_service_principals_v2_update
      summary: Updates the details of a single service principal.
      tags:
      - iam
      - account_service_principals_v2
      description: |-
        Updates the details of a single service principal.

        This action replaces the existing service principal with the same name.

        :param id: str
          Databricks service principal ID.
        :param active: bool (optional)
          If this user is active
        :param application_id: str (optional)
          UUID relating to the service principal
        :param display_name: str (optional)
          String that represents a concatenation of given and family names.
        :param external_id: str (optional)
        :param roles: List[:class:`ComplexValue`] (optional)
          Indicates if the group has the admin role.
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Databricks service principal ID.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                active:
                  type: boolean
                  description: If this user is active
                application_id:
                  type: string
                  description: UUID relating to the service principal
                display_name:
                  type: string
                  description: String that represents a concatenation of given and family names.
                external_id:
                  type: string
                  description: ':param roles: List[:class:`ComplexValue`] (optional) Indicates if the group has the admin
                    role.'
                roles:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountServicePrincipalsV2API
  /api/2.0/accounts/{account_id}/scim/v2/Users:
    post:
      operationId: account_users_v2_create
      summary: Creates a new user in the Databricks account. This new user will also be added to the Databricks
      tags:
      - iam
      - account_users_v2
      description: |-
        Creates a new user in the Databricks account. This new user will also be added to the Databricks
        account.

        :param active: bool (optional)
          If this user is active
        :param display_name: str (optional)
          String that represents a concatenation of given and family names. For example `John Smith`.
        :param emails: List[:class:`ComplexValue`] (optional)
          All the emails associated with the Databricks user.
        :param external_id: str (optional)
          External ID is not currently supported. It is reserved for future use.
        :param id: str (optional)
          Databricks user ID.
        :param name: :class:`Name` (optional)
        :param roles: List[:class:`ComplexValue`] (optional)
          Indicates if the group has the admin role.
        :param user_name: str (optional)
          Email address of the Databricks user.

        :returns: :class:`AccountUser`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                active:
                  type: boolean
                  description: If this user is active
                display_name:
                  type: string
                  description: String that represents a concatenation of given and family names. For example `John Smith`.
                emails:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
                  description: All the emails associated with the Databricks user.
                external_id:
                  type: string
                  description: External ID is not currently supported. It is reserved for future use.
                id:
                  type: string
                  description: Databricks user ID.
                name:
                  type: object
                  properties:
                    familyName:
                      type: string
                    givenName:
                      type: string
                      description: Given name of the Databricks user.
                  description: ':param roles: List[:class:`ComplexValue`] (optional) Indicates if the group has the admin
                    role.'
                roles:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
                user_name:
                  type: string
                  description: Email address of the Databricks user.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountUser'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountUsersV2API
    get:
      operationId: account_users_v2_list
      summary: Gets details for all the users associated with a Databricks account.
      tags:
      - iam
      - account_users_v2
      description: |-
        Gets details for all the users associated with a Databricks account.

        :param attributes: str (optional)
          Comma-separated list of attributes to return in response.
        :param count: int (optional)
          Desired number of results per page. Default is 10000.
        :param excluded_attributes: str (optional)
          Comma-separated list of attributes to exclude in response.
        :param filter: str (optional)
          Query by which the results have to be filtered. Supported operators are equals(`eq`),
          contains(`co`), starts with(`sw`) and not equals(`ne`). Additionally, simple expressions can be
          formed using logical operators - `and` and `or`. The [SCIM RFC] has more details but we currently
          only support simple expressions.

          [SCIM RFC]: https://tools.ietf.org/html/rfc7644#section-3.4.2.2
        :param sort_by: str (optional)
          Attribute to sort the results. Multi-part paths are supported. For example, `userName`,
          `name.givenName`, and `emails`.
        :param sort_order: :class:`ListSortOrder` (optional)
          The order to sort the results.
        :param start_index: int (optional)
          Specifies the index of the first result. First item is number 1.

        :returns: Iterator over :class:`AccountUser`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: attributes
        in: query
        required: false
        schema:
          type: string
        description: Comma-separated list of attributes to return in response.
      - name: count
        in: query
        required: false
        schema:
          type: integer
        description: Desired number of results per page. Default is 10000.
      - name: excluded_attributes
        in: query
        required: false
        schema:
          type: string
        description: Comma-separated list of attributes to exclude in response.
      - name: filter
        in: query
        required: false
        schema:
          type: string
        description: 'Query by which the results have to be filtered. Supported operators are equals(`eq`), contains(`co`),
          starts with(`sw`) and not equals(`ne`). Additionally, simple expressions can be formed using logical operators -
          `and` and `or`. The [SCIM RFC] has more details but we currently only support simple expressions. [SCIM RFC]: https://tools.ietf.org/html/rfc7644#section-3.4.2.2'
      - name: sort_by
        in: query
        required: false
        schema:
          type: string
        description: Attribute to sort the results. Multi-part paths are supported. For example, `userName`, `name.givenName`,
          and `emails`.
      - name: sort_order
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/ListSortOrder'
        description: The order to sort the results.
      - name: start_index
        in: query
        required: false
        schema:
          type: integer
        description: Specifies the index of the first result. First item is number 1.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListAccountUsersResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountUsersV2API
  /api/2.0/accounts/{account_id}/scim/v2/Users/{id}:
    delete:
      operationId: account_users_v2_delete
      summary: Deletes a user. Deleting a user from a Databricks account also removes objects associated with the
      tags:
      - iam
      - account_users_v2
      description: |-
        Deletes a user. Deleting a user from a Databricks account also removes objects associated with the
        user.

        :param id: str
          Unique ID for a user in the Databricks account.
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Unique ID for a user in the Databricks account.
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountUsersV2API
    get:
      operationId: account_users_v2_get
      summary: Gets information for a specific user in Databricks account.
      tags:
      - iam
      - account_users_v2
      description: |-
        Gets information for a specific user in Databricks account.

        :param id: str
          Unique ID for a user in the Databricks account.
        :param attributes: str (optional)
          Comma-separated list of attributes to return in response.
        :param count: int (optional)
          Desired number of results per page. Default is 10000.
        :param excluded_attributes: str (optional)
          Comma-separated list of attributes to exclude in response.
        :param filter: str (optional)
          Query by which the results have to be filtered. Supported operators are equals(`eq`),
          contains(`co`), starts with(`sw`) and not equals(`ne`). Additionally, simple expressions can be
          formed using logical operators - `and` and `or`. The [SCIM RFC] has more details but we currently
          only support simple expressions.

          [SCIM RFC]: https://tools.ietf.org/html/rfc7644#section-3.4.2.2
        :param sort_by: str (optional)
          Attribute to sort the results. Multi-part paths are supported. For example, `userName`,
          `name.givenName`, and `emails`.
        :param sort_order: :class:`GetSortOrder` (optional)
          The order to sort the results.
        :param start_index: int (optional)
          Specifies the index of the first result. First item is number 1.

        :returns: :class:`AccountUser`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Unique ID for a user in the Databricks account.
      - name: attributes
        in: query
        required: false
        schema:
          type: string
        description: Comma-separated list of attributes to return in response.
      - name: count
        in: query
        required: false
        schema:
          type: integer
        description: Desired number of results per page. Default is 10000.
      - name: excluded_attributes
        in: query
        required: false
        schema:
          type: string
        description: Comma-separated list of attributes to exclude in response.
      - name: filter
        in: query
        required: false
        schema:
          type: string
        description: 'Query by which the results have to be filtered. Supported operators are equals(`eq`), contains(`co`),
          starts with(`sw`) and not equals(`ne`). Additionally, simple expressions can be formed using logical operators -
          `and` and `or`. The [SCIM RFC] has more details but we currently only support simple expressions. [SCIM RFC]: https://tools.ietf.org/html/rfc7644#section-3.4.2.2'
      - name: sort_by
        in: query
        required: false
        schema:
          type: string
        description: Attribute to sort the results. Multi-part paths are supported. For example, `userName`, `name.givenName`,
          and `emails`.
      - name: sort_order
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/GetSortOrder'
        description: The order to sort the results.
      - name: start_index
        in: query
        required: false
        schema:
          type: integer
        description: Specifies the index of the first result. First item is number 1.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountUser'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountUsersV2API
    patch:
      operationId: account_users_v2_patch
      summary: Partially updates a user resource by applying the supplied operations on specific user attributes.
      tags:
      - iam
      - account_users_v2
      description: |-
        Partially updates a user resource by applying the supplied operations on specific user attributes.

        :param id: str
          Unique ID in the Databricks workspace.
        :param operations: List[:class:`Patch`] (optional)
        :param schemas: List[:class:`PatchSchema`] (optional)
          The schema of the patch request. Must be ["urn:ietf:params:scim:api:messages:2.0:PatchOp"].
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Unique ID in the Databricks workspace.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                operations:
                  type: array
                  items:
                    type: object
                    properties:
                      op:
                        type: string
                        x-enum:
                        - add
                        - remove
                        - replace
                        description: Type of patch operation.
                      path:
                        type: string
                        description: Selection of patch operation
                      value:
                        type: object
                        description: Value to modify
                  description: ':param schemas: List[:class:`PatchSchema`] (optional) The schema of the patch request. Must
                    be ["urn:ietf:params:scim:api:messages:2.0:PatchOp"].'
                schemas:
                  type: array
                  items:
                    type: string
                    x-enum:
                    - urn:ietf:params:scim:api:messages:2.0:PatchOp
                    description: |-
                      Create a collection of name/value pairs.

                      Example enumeration:

                      >>> class Color(Enum):
                      ...     RED = 1
                      ...     BLUE = 2
                      ...     GREEN = 3

                      Access them by:

                      - attribute access::

                      >>> Color.RED
                      <Color.RED: 1>

                      - value lookup:

                      >>> Color(1)
                      <Color.RED: 1>

                      - name lookup:

                      >>> Color['RED']
                      <Color.RED: 1>

                      Enumerations can be iterated over, and know how many members they have:

                      >>> len(Color)
                      3

                      >>> list(Color)
                      [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

                      Methods can be added to enumerations, and members can have their own
                      attributes -- see the documentation for details.
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountUsersV2API
    put:
      operationId: account_users_v2_update
      summary: Replaces a user's information with the data supplied in request.
      tags:
      - iam
      - account_users_v2
      description: |-
        Replaces a user's information with the data supplied in request.

        :param id: str
          Databricks user ID.
        :param active: bool (optional)
          If this user is active
        :param display_name: str (optional)
          String that represents a concatenation of given and family names. For example `John Smith`.
        :param emails: List[:class:`ComplexValue`] (optional)
          All the emails associated with the Databricks user.
        :param external_id: str (optional)
          External ID is not currently supported. It is reserved for future use.
        :param name: :class:`Name` (optional)
        :param roles: List[:class:`ComplexValue`] (optional)
          Indicates if the group has the admin role.
        :param user_name: str (optional)
          Email address of the Databricks user.
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: Databricks user ID.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                active:
                  type: boolean
                  description: If this user is active
                display_name:
                  type: string
                  description: String that represents a concatenation of given and family names. For example `John Smith`.
                emails:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
                  description: All the emails associated with the Databricks user.
                external_id:
                  type: string
                  description: External ID is not currently supported. It is reserved for future use.
                name:
                  type: object
                  properties:
                    familyName:
                      type: string
                    givenName:
                      type: string
                      description: Given name of the Databricks user.
                  description: ':param roles: List[:class:`ComplexValue`] (optional) Indicates if the group has the admin
                    role.'
                roles:
                  type: array
                  items:
                    type: object
                    properties:
                      display:
                        type: string
                      primary:
                        type: boolean
                      $ref:
                        type: string
                      type:
                        type: string
                      value:
                        type: string
                user_name:
                  type: string
                  description: Email address of the Databricks user.
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: AccountUsersV2API
  /api/2.0/accounts/{account_id}/workspaces/{workspace_id}/permissionassignments/principals/{principal_id}:
    delete:
      operationId: workspace_assignment_delete
      summary: Deletes the workspace permissions assignment in a given account and workspace for the specified
      tags:
      - iam
      - workspace_assignment
      description: |-
        Deletes the workspace permissions assignment in a given account and workspace for the specified
        principal.

        :param workspace_id: int
          The workspace ID for the account.
        :param principal_id: int
          The ID of the user, service principal, or group.
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: workspace_id
        in: path
        required: true
        schema:
          type: integer
        description: The workspace ID for the account.
      - name: principal_id
        in: path
        required: true
        schema:
          type: integer
        description: The ID of the user, service principal, or group.
      responses:
        '200':
          description: Success
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: WorkspaceAssignmentAPI
    put:
      operationId: workspace_assignment_update
      summary: Creates or updates the workspace permissions assignment in a given account and workspace for the
      tags:
      - iam
      - workspace_assignment
      description: |-
        Creates or updates the workspace permissions assignment in a given account and workspace for the
        specified principal.

        :param workspace_id: int
          The workspace ID.
        :param principal_id: int
          The ID of the user, service principal, or group.
        :param permissions: List[:class:`WorkspacePermission`] (optional)
          Array of permissions assignments to update on the workspace. Valid values are "USER" and "ADMIN"
          (case-sensitive). If both "USER" and "ADMIN" are provided, "ADMIN" takes precedence. Other values
          will be ignored. Note that excluding this field, or providing unsupported values, will have the same
          effect as providing an empty list, which will result in the deletion of all permissions for the
          principal.

        :returns: :class:`PermissionAssignment`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: workspace_id
        in: path
        required: true
        schema:
          type: integer
        description: The workspace ID.
      - name: principal_id
        in: path
        required: true
        schema:
          type: integer
        description: The ID of the user, service principal, or group.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                permissions:
                  type: array
                  items:
                    type: string
                    x-enum:
                    - ADMIN
                    - UNKNOWN
                    - USER
                    description: |-
                      Create a collection of name/value pairs.

                      Example enumeration:

                      >>> class Color(Enum):
                      ...     RED = 1
                      ...     BLUE = 2
                      ...     GREEN = 3

                      Access them by:

                      - attribute access::

                      >>> Color.RED
                      <Color.RED: 1>

                      - value lookup:

                      >>> Color(1)
                      <Color.RED: 1>

                      - name lookup:

                      >>> Color['RED']
                      <Color.RED: 1>

                      Enumerations can be iterated over, and know how many members they have:

                      >>> len(Color)
                      3

                      >>> list(Color)
                      [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

                      Methods can be added to enumerations, and members can have their own
                      attributes -- see the documentation for details.
                  description: Array of permissions assignments to update on the workspace. Valid values are "USER" and "ADMIN"
                    (case-sensitive). If both "USER" and "ADMIN" are provided, "ADMIN" takes precedence. Other values will
                    be ignored. Note that excluding this field, or providing unsupported values, will have the same effect
                    as providing an empty list, which will result in the deletion of all permissions for the principal.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PermissionAssignment'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: WorkspaceAssignmentAPI
  /api/2.0/accounts/{account_id}/workspaces/{workspace_id}/permissionassignments/permissions:
    get:
      operationId: workspace_assignment_get
      summary: Get an array of workspace permissions for the specified account and workspace.
      tags:
      - iam
      - workspace_assignment
      description: |-
        Get an array of workspace permissions for the specified account and workspace.

        :param workspace_id: int
          The workspace ID.

        :returns: :class:`WorkspacePermissions`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: workspace_id
        in: path
        required: true
        schema:
          type: integer
        description: The workspace ID.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkspacePermissions'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: WorkspaceAssignmentAPI
  /api/2.0/accounts/{account_id}/workspaces/{workspace_id}/permissionassignments:
    get:
      operationId: workspace_assignment_list
      summary: Get the permission assignments for the specified Databricks account and Databricks workspace.
      tags:
      - iam
      - workspace_assignment
      description: |-
        Get the permission assignments for the specified Databricks account and Databricks workspace.

        :param workspace_id: int
          The workspace ID for the account.

        :returns: Iterator over :class:`PermissionAssignment`
      parameters:
      - name: account_id
        in: path
        required: true
        schema:
          type: string
      - name: workspace_id
        in: path
        required: true
        schema:
          type: integer
        description: The workspace ID for the account.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PermissionAssignments'
        default:
          description: Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
      x-stackql-sdk-source: WorkspaceAssignmentAPI
components:
  schemas:
    AccessControlRequest:
      type: object
      properties:
        group_name:
          type: string
        permission_level:
          $ref: '#/components/schemas/PermissionLevel'
        service_principal_name:
          type: string
          description: application ID of a service principal
        user_name:
          type: string
          description: name of the user
    AccessControlResponse:
      type: object
      properties:
        all_permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
        display_name:
          type: string
          description: Display name of the user or service principal.
        group_name:
          type: string
          description: name of the group
        service_principal_name:
          type: string
          description: Name of the service principal.
        user_name:
          type: string
          description: name of the user
    AccountGroup:
      type: object
      properties:
        account_id:
          type: string
        displayName:
          type: string
          description: String that represents a human-readable group name
        externalId:
          type: string
          description: external_id should be unique for identifying groups
        id:
          type: string
          description: Databricks group ID
        members:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
        meta:
          $ref: '#/components/schemas/ResourceMeta'
          description: Container for the group identifier. Workspace local versus account.
        roles:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: Indicates if the group has the admin role.
    AccountServicePrincipal:
      type: object
      properties:
        account_id:
          type: string
        active:
          type: boolean
          description: If this user is active
        applicationId:
          type: string
          description: UUID relating to the service principal
        displayName:
          type: string
          description: String that represents a concatenation of given and family names.
        externalId:
          type: string
        id:
          type: string
          description: Databricks service principal ID.
        roles:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: Indicates if the group has the admin role.
    AccountUser:
      type: object
      properties:
        account_id:
          type: string
        active:
          type: boolean
          description: If this user is active
        displayName:
          type: string
          description: String that represents a concatenation of given and family names. For example `John Smith`.
        emails:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: All the emails associated with the Databricks user.
        externalId:
          type: string
          description: External ID is not currently supported. It is reserved for future use.
        id:
          type: string
          description: Databricks user ID.
        name:
          $ref: '#/components/schemas/Name'
        roles:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: Indicates if the group has the admin role.
        userName:
          type: string
          description: Email address of the Databricks user.
    Actor:
      type: object
      properties:
        actor_id:
          type: integer
      description: |-
        represents an identity trying to access a resource - user or a service principal group can be a
            principal of a permission set assignment but an actor is always a user or a service principal
    CheckPolicyResponse:
      type: object
      properties:
        consistency_token:
          $ref: '#/components/schemas/ConsistencyToken'
        is_permitted:
          type: boolean
      required:
      - consistency_token
    ComplexValue:
      type: object
      properties:
        display:
          type: string
        primary:
          type: boolean
        $ref:
          type: string
        type:
          type: string
        value:
          type: string
    ConsistencyToken:
      type: object
      properties:
        value:
          type: string
      required:
      - value
    DeleteWorkspacePermissionAssignmentResponse:
      type: object
      properties: {}
    GetAssignableRolesForResourceResponse:
      type: object
      properties:
        roles:
          type: array
          items:
            $ref: '#/components/schemas/Role'
    GetPasswordPermissionLevelsResponse:
      type: object
      properties:
        permission_levels:
          type: array
          items:
            $ref: '#/components/schemas/PasswordPermissionsDescription'
    GetPermissionLevelsResponse:
      type: object
      properties:
        permission_levels:
          type: array
          items:
            $ref: '#/components/schemas/PermissionsDescription'
    GrantRule:
      type: object
      properties:
        role:
          type: string
        principals:
          type: array
          items:
            type: string
          description: 'Principals this grant rule applies to. A principal can be a user (for end users), a service principal
            (for applications and compute workloads), or an account group. Each principal has its own identifier format: *
            users/<USERNAME> * groups/<GROUP_NAME> * servicePrincipals/<SERVICE_PRINCIPAL_APPLICATION_ID>'
      required:
      - role
    Group:
      type: object
      properties:
        displayName:
          type: string
        entitlements:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: 'Entitlements assigned to the group. See [assigning entitlements] for a full list of supported values.
            [assigning entitlements]: https://docs.databricks.com/administration-guide/users-groups/index.html#assigning-entitlements'
        externalId:
          type: string
          description: external_id should be unique for identifying groups
        groups:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
        id:
          type: string
          description: Databricks group ID
        members:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
        meta:
          $ref: '#/components/schemas/ResourceMeta'
          description: Container for the group identifier. Workspace local versus account.
        roles:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: Corresponds to AWS instance profile/arn role.
        schemas:
          type: array
          items:
            $ref: '#/components/schemas/GroupSchema'
          description: The schema of the group.
    ListAccountGroupsResponse:
      type: object
      properties:
        itemsPerPage:
          type: integer
        Resources:
          type: array
          items:
            $ref: '#/components/schemas/AccountGroup'
          description: User objects returned in the response.
        startIndex:
          type: integer
          description: Starting index of all the results that matched the request filters. First item is number 1.
        totalResults:
          type: integer
          description: Total results that match the request filters.
    ListAccountServicePrincipalsResponse:
      type: object
      properties:
        itemsPerPage:
          type: integer
        Resources:
          type: array
          items:
            $ref: '#/components/schemas/AccountServicePrincipal'
          description: User objects returned in the response.
        startIndex:
          type: integer
          description: Starting index of all the results that matched the request filters. First item is number 1.
        totalResults:
          type: integer
          description: Total results that match the request filters.
    ListAccountUsersResponse:
      type: object
      properties:
        itemsPerPage:
          type: integer
        Resources:
          type: array
          items:
            $ref: '#/components/schemas/AccountUser'
          description: User objects returned in the response.
        startIndex:
          type: integer
          description: Starting index of all the results that matched the request filters. First item is number 1.
        totalResults:
          type: integer
          description: Total results that match the request filters.
    ListGroupsResponse:
      type: object
      properties:
        itemsPerPage:
          type: integer
        Resources:
          type: array
          items:
            $ref: '#/components/schemas/Group'
          description: User objects returned in the response.
        schemas:
          type: array
          items:
            $ref: '#/components/schemas/ListResponseSchema'
          description: The schema of the service principal.
        startIndex:
          type: integer
          description: Starting index of all the results that matched the request filters. First item is number 1.
        totalResults:
          type: integer
          description: Total results that match the request filters.
    ListServicePrincipalResponse:
      type: object
      properties:
        itemsPerPage:
          type: integer
        Resources:
          type: array
          items:
            $ref: '#/components/schemas/ServicePrincipal'
          description: User objects returned in the response.
        schemas:
          type: array
          items:
            $ref: '#/components/schemas/ListResponseSchema'
          description: The schema of the List response.
        startIndex:
          type: integer
          description: Starting index of all the results that matched the request filters. First item is number 1.
        totalResults:
          type: integer
          description: Total results that match the request filters.
    ListUsersResponse:
      type: object
      properties:
        itemsPerPage:
          type: integer
        Resources:
          type: array
          items:
            $ref: '#/components/schemas/User'
          description: User objects returned in the response.
        schemas:
          type: array
          items:
            $ref: '#/components/schemas/ListResponseSchema'
          description: The schema of the List response.
        startIndex:
          type: integer
          description: Starting index of all the results that matched the request filters. First item is number 1.
        totalResults:
          type: integer
          description: Total results that match the request filters.
    MigratePermissionsResponse:
      type: object
      properties:
        permissions_migrated:
          type: integer
    Name:
      type: object
      properties:
        familyName:
          type: string
        givenName:
          type: string
          description: Given name of the Databricks user.
    ObjectPermissions:
      type: object
      properties:
        access_control_list:
          type: array
          items:
            $ref: '#/components/schemas/AccessControlResponse'
        object_id:
          type: string
        object_type:
          type: string
    PasswordAccessControlRequest:
      type: object
      properties:
        group_name:
          type: string
        permission_level:
          $ref: '#/components/schemas/PasswordPermissionLevel'
          description: Permission level
        service_principal_name:
          type: string
          description: application ID of a service principal
        user_name:
          type: string
          description: name of the user
    PasswordAccessControlResponse:
      type: object
      properties:
        all_permissions:
          type: array
          items:
            $ref: '#/components/schemas/PasswordPermission'
        display_name:
          type: string
          description: Display name of the user or service principal.
        group_name:
          type: string
          description: name of the group
        service_principal_name:
          type: string
          description: Name of the service principal.
        user_name:
          type: string
          description: name of the user
    PasswordPermission:
      type: object
      properties:
        inherited:
          type: boolean
        inherited_from_object:
          type: array
          items:
            type: string
        permission_level:
          $ref: '#/components/schemas/PasswordPermissionLevel'
          description: Permission level
    PasswordPermissions:
      type: object
      properties:
        access_control_list:
          type: array
          items:
            $ref: '#/components/schemas/PasswordAccessControlResponse'
        object_id:
          type: string
        object_type:
          type: string
    PasswordPermissionsDescription:
      type: object
      properties:
        description:
          type: string
        permission_level:
          $ref: '#/components/schemas/PasswordPermissionLevel'
          description: Permission level
    Patch:
      type: object
      properties:
        op:
          $ref: '#/components/schemas/PatchOp'
        path:
          type: string
          description: Selection of patch operation
        value:
          type: object
          description: Value to modify
    Permission:
      type: object
      properties:
        inherited:
          type: boolean
        inherited_from_object:
          type: array
          items:
            type: string
        permission_level:
          $ref: '#/components/schemas/PermissionLevel'
    PermissionAssignment:
      type: object
      properties:
        error:
          type: string
          description: Error response associated with a workspace permission assignment, if any.
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/WorkspacePermission'
          description: The permissions level of the principal.
        principal:
          $ref: '#/components/schemas/PrincipalOutput'
          description: Information about the principal assigned to the workspace.
      description: |-
        The output format for existing workspace PermissionAssignment records, which contains some info
            for user consumption.
    PermissionAssignments:
      type: object
      properties:
        permission_assignments:
          type: array
          items:
            $ref: '#/components/schemas/PermissionAssignment'
    PermissionOutput:
      type: object
      properties:
        description:
          type: string
        permission_level:
          $ref: '#/components/schemas/WorkspacePermission'
    PermissionsDescription:
      type: object
      properties:
        description:
          type: string
        permission_level:
          $ref: '#/components/schemas/PermissionLevel'
    PrincipalOutput:
      type: object
      properties:
        display_name:
          type: string
          description: The display name of the principal.
        group_name:
          type: string
          description: The group name of the group. Present only if the principal is a group.
        principal_id:
          type: integer
          description: The unique, opaque id of the principal.
        service_principal_name:
          type: string
          description: The name of the service principal. Present only if the principal is a service principal.
        user_name:
          type: string
          description: The username of the user. Present only if the principal is a user.
      description: Information about the principal assigned to the workspace.
    ResourceInfo:
      type: object
      properties:
        id:
          type: string
        legacy_acl_path:
          type: string
          description: The legacy acl path of the current resource.
        parent_resource_info:
          $ref: '#/components/schemas/ResourceInfo'
          description: Parent resource info for the current resource. The parent may have another parent.
      required:
      - id
    ResourceMeta:
      type: object
      properties:
        resourceType:
          type: string
    Role:
      type: object
      properties:
        name:
          type: string
      required:
      - name
    RuleSetResponse:
      type: object
      properties:
        name:
          type: string
        etag:
          type: string
          description: Identifies the version of the rule set returned. Etag used for versioning. The response is at least
            as fresh as the eTag provided. Etag is used for optimistic concurrency control as a way to help prevent simultaneous
            updates of a rule set from overwriting each other. It is strongly suggested that systems make use of the etag
            in the read -> modify -> write pattern to perform rule set updates in order to avoid race conditions that is get
            an etag from a GET rule set request, and pass it with the PUT update request to identify the rule set version
            you are updating.
        grant_rules:
          type: array
          items:
            $ref: '#/components/schemas/GrantRule'
      required:
      - name
      - etag
    RuleSetUpdateRequest:
      type: object
      properties:
        name:
          type: string
        etag:
          type: string
          description: Identifies the version of the rule set returned. Etag used for versioning. The response is at least
            as fresh as the eTag provided. Etag is used for optimistic concurrency control as a way to help prevent simultaneous
            updates of a rule set from overwriting each other. It is strongly suggested that systems make use of the etag
            in the read -> modify -> write pattern to perform rule set updates in order to avoid race conditions that is get
            an etag from a GET rule set request, and pass it with the PUT update request to identify the rule set version
            you are updating.
        grant_rules:
          type: array
          items:
            $ref: '#/components/schemas/GrantRule'
      required:
      - name
      - etag
    ServicePrincipal:
      type: object
      properties:
        active:
          type: boolean
        applicationId:
          type: string
          description: UUID relating to the service principal
        displayName:
          type: string
          description: String that represents a concatenation of given and family names.
        entitlements:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: 'Entitlements assigned to the service principal. See [assigning entitlements] for a full list of supported
            values. [assigning entitlements]: https://docs.databricks.com/administration-guide/users-groups/index.html#assigning-entitlements'
        externalId:
          type: string
        groups:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
        id:
          type: string
          description: Databricks service principal ID.
        roles:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: Corresponds to AWS instance profile/arn role.
        schemas:
          type: array
          items:
            $ref: '#/components/schemas/ServicePrincipalSchema'
          description: The schema of the List response.
    User:
      type: object
      properties:
        active:
          type: boolean
        displayName:
          type: string
          description: 'String that represents a concatenation of given and family names. For example `John Smith`. This field
            cannot be updated through the Workspace SCIM APIs when [identity federation is enabled]. Use Account SCIM APIs
            to update `displayName`. [identity federation is enabled]: https://docs.databricks.com/administration-guide/users-groups/best-practices.html#enable-identity-federation'
        emails:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: All the emails associated with the Databricks user.
        entitlements:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: 'Entitlements assigned to the user. See [assigning entitlements] for a full list of supported values.
            [assigning entitlements]: https://docs.databricks.com/administration-guide/users-groups/index.html#assigning-entitlements'
        externalId:
          type: string
          description: External ID is not currently supported. It is reserved for future use.
        groups:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
        id:
          type: string
          description: Databricks user ID.
        name:
          $ref: '#/components/schemas/Name'
        roles:
          type: array
          items:
            $ref: '#/components/schemas/ComplexValue'
          description: Corresponds to AWS instance profile/arn role.
        schemas:
          type: array
          items:
            $ref: '#/components/schemas/UserSchema'
          description: The schema of the user.
        userName:
          type: string
          description: Email address of the Databricks user.
    WorkspacePermissions:
      type: object
      properties:
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/PermissionOutput'
    GetSortOrder:
      type: string
      x-enum:
      - ascending
      - descending
      description: |-
        Create a collection of name/value pairs.

        Example enumeration:

        >>> class Color(Enum):
        ...     RED = 1
        ...     BLUE = 2
        ...     GREEN = 3

        Access them by:

        - attribute access::

        >>> Color.RED
        <Color.RED: 1>

        - value lookup:

        >>> Color(1)
        <Color.RED: 1>

        - name lookup:

        >>> Color['RED']
        <Color.RED: 1>

        Enumerations can be iterated over, and know how many members they have:

        >>> len(Color)
        3

        >>> list(Color)
        [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

        Methods can be added to enumerations, and members can have their own
        attributes -- see the documentation for details.
    GroupSchema:
      type: string
      x-enum:
      - urn:ietf:params:scim:schemas:core:2.0:Group
      description: |-
        Create a collection of name/value pairs.

        Example enumeration:

        >>> class Color(Enum):
        ...     RED = 1
        ...     BLUE = 2
        ...     GREEN = 3

        Access them by:

        - attribute access::

        >>> Color.RED
        <Color.RED: 1>

        - value lookup:

        >>> Color(1)
        <Color.RED: 1>

        - name lookup:

        >>> Color['RED']
        <Color.RED: 1>

        Enumerations can be iterated over, and know how many members they have:

        >>> len(Color)
        3

        >>> list(Color)
        [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

        Methods can be added to enumerations, and members can have their own
        attributes -- see the documentation for details.
    ListResponseSchema:
      type: string
      x-enum:
      - urn:ietf:params:scim:api:messages:2.0:ListResponse
      description: |-
        Create a collection of name/value pairs.

        Example enumeration:

        >>> class Color(Enum):
        ...     RED = 1
        ...     BLUE = 2
        ...     GREEN = 3

        Access them by:

        - attribute access::

        >>> Color.RED
        <Color.RED: 1>

        - value lookup:

        >>> Color(1)
        <Color.RED: 1>

        - name lookup:

        >>> Color['RED']
        <Color.RED: 1>

        Enumerations can be iterated over, and know how many members they have:

        >>> len(Color)
        3

        >>> list(Color)
        [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

        Methods can be added to enumerations, and members can have their own
        attributes -- see the documentation for details.
    ListSortOrder:
      type: string
      x-enum:
      - ascending
      - descending
      description: |-
        Create a collection of name/value pairs.

        Example enumeration:

        >>> class Color(Enum):
        ...     RED = 1
        ...     BLUE = 2
        ...     GREEN = 3

        Access them by:

        - attribute access::

        >>> Color.RED
        <Color.RED: 1>

        - value lookup:

        >>> Color(1)
        <Color.RED: 1>

        - name lookup:

        >>> Color['RED']
        <Color.RED: 1>

        Enumerations can be iterated over, and know how many members they have:

        >>> len(Color)
        3

        >>> list(Color)
        [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

        Methods can be added to enumerations, and members can have their own
        attributes -- see the documentation for details.
    PasswordPermissionLevel:
      type: string
      x-enum:
      - CAN_USE
      description: Permission level
    PatchOp:
      type: string
      x-enum:
      - add
      - remove
      - replace
      description: Type of patch operation.
    PatchSchema:
      type: string
      x-enum:
      - urn:ietf:params:scim:api:messages:2.0:PatchOp
      description: |-
        Create a collection of name/value pairs.

        Example enumeration:

        >>> class Color(Enum):
        ...     RED = 1
        ...     BLUE = 2
        ...     GREEN = 3

        Access them by:

        - attribute access::

        >>> Color.RED
        <Color.RED: 1>

        - value lookup:

        >>> Color(1)
        <Color.RED: 1>

        - name lookup:

        >>> Color['RED']
        <Color.RED: 1>

        Enumerations can be iterated over, and know how many members they have:

        >>> len(Color)
        3

        >>> list(Color)
        [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

        Methods can be added to enumerations, and members can have their own
        attributes -- see the documentation for details.
    PermissionLevel:
      type: string
      x-enum:
      - CAN_ATTACH_TO
      - CAN_BIND
      - CAN_CREATE
      - CAN_EDIT
      - CAN_EDIT_METADATA
      - CAN_MANAGE
      - CAN_MANAGE_PRODUCTION_VERSIONS
      - CAN_MANAGE_RUN
      - CAN_MANAGE_STAGING_VERSIONS
      - CAN_MONITOR
      - CAN_MONITOR_ONLY
      - CAN_QUERY
      - CAN_READ
      - CAN_RESTART
      - CAN_RUN
      - CAN_USE
      - CAN_VIEW
      - CAN_VIEW_METADATA
      - IS_OWNER
      description: Permission level
    RequestAuthzIdentity:
      type: string
      x-enum:
      - REQUEST_AUTHZ_IDENTITY_SERVICE_IDENTITY
      - REQUEST_AUTHZ_IDENTITY_USER_CONTEXT
      description: |-
        Defines the identity to be used for authZ of the request on the server side. See one pager for
        for more information: http://go/acl/service-identity
    ServicePrincipalSchema:
      type: string
      x-enum:
      - urn:ietf:params:scim:schemas:core:2.0:ServicePrincipal
      description: |-
        Create a collection of name/value pairs.

        Example enumeration:

        >>> class Color(Enum):
        ...     RED = 1
        ...     BLUE = 2
        ...     GREEN = 3

        Access them by:

        - attribute access::

        >>> Color.RED
        <Color.RED: 1>

        - value lookup:

        >>> Color(1)
        <Color.RED: 1>

        - name lookup:

        >>> Color['RED']
        <Color.RED: 1>

        Enumerations can be iterated over, and know how many members they have:

        >>> len(Color)
        3

        >>> list(Color)
        [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

        Methods can be added to enumerations, and members can have their own
        attributes -- see the documentation for details.
    UserSchema:
      type: string
      x-enum:
      - urn:ietf:params:scim:schemas:core:2.0:User
      - urn:ietf:params:scim:schemas:extension:workspace:2.0:User
      description: |-
        Create a collection of name/value pairs.

        Example enumeration:

        >>> class Color(Enum):
        ...     RED = 1
        ...     BLUE = 2
        ...     GREEN = 3

        Access them by:

        - attribute access::

        >>> Color.RED
        <Color.RED: 1>

        - value lookup:

        >>> Color(1)
        <Color.RED: 1>

        - name lookup:

        >>> Color['RED']
        <Color.RED: 1>

        Enumerations can be iterated over, and know how many members they have:

        >>> len(Color)
        3

        >>> list(Color)
        [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

        Methods can be added to enumerations, and members can have their own
        attributes -- see the documentation for details.
    WorkspacePermission:
      type: string
      x-enum:
      - ADMIN
      - UNKNOWN
      - USER
      description: |-
        Create a collection of name/value pairs.

        Example enumeration:

        >>> class Color(Enum):
        ...     RED = 1
        ...     BLUE = 2
        ...     GREEN = 3

        Access them by:

        - attribute access::

        >>> Color.RED
        <Color.RED: 1>

        - value lookup:

        >>> Color(1)
        <Color.RED: 1>

        - name lookup:

        >>> Color['RED']
        <Color.RED: 1>

        Enumerations can be iterated over, and know how many members they have:

        >>> len(Color)
        3

        >>> list(Color)
        [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]

        Methods can be added to enumerations, and members can have their own
        attributes -- see the documentation for details.
  x-stackQL-resources:
    account_assignable_roles:
      id: databricks_account.iam.account_assignable_roles
      name: account_assignable_roles
      title: Account Assignable Roles
      methods:
        get_assignable_roles_for_resource:
          operation:
            $ref: '#/paths/~1api~12.0~1preview~1accounts~1{account_id}~1access-control~1assignable-roles/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/account_assignable_roles/methods/get_assignable_roles_for_resource'
        insert: []
        update: []
        delete: []
        replace: []
    account_rule_sets:
      id: databricks_account.iam.account_rule_sets
      name: account_rule_sets
      title: Account Rule Sets
      methods:
        get_rule_set:
          operation:
            $ref: '#/paths/~1api~12.0~1preview~1accounts~1{account_id}~1access-control~1rule-sets/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update_rule_set:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1preview~1accounts~1{account_id}~1access-control~1rule-sets/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/account_rule_sets/methods/get_rule_set'
        insert: []
        update: []
        delete: []
        replace:
        - $ref: '#/components/x-stackQL-resources/account_rule_sets/methods/update_rule_set'
    account_groups:
      id: databricks_account.iam.account_groups
      name: account_groups
      title: Account Groups
      methods:
        account_groups_v2_create:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Groups/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_groups_v2_list:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Groups/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.Resources
        account_groups_v2_delete:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Groups~1{id}/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_groups_v2_get:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Groups~1{id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_groups_v2_patch:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Groups~1{id}/patch'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_groups_v2_update:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Groups~1{id}/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/account_groups/methods/account_groups_v2_get'
        - $ref: '#/components/x-stackQL-resources/account_groups/methods/account_groups_v2_list'
        insert:
        - $ref: '#/components/x-stackQL-resources/account_groups/methods/account_groups_v2_create'
        update:
        - $ref: '#/components/x-stackQL-resources/account_groups/methods/account_groups_v2_patch'
        delete:
        - $ref: '#/components/x-stackQL-resources/account_groups/methods/account_groups_v2_delete'
        replace:
        - $ref: '#/components/x-stackQL-resources/account_groups/methods/account_groups_v2_update'
    account_service_principals:
      id: databricks_account.iam.account_service_principals
      name: account_service_principals
      title: Account Service Principals
      methods:
        account_service_principals_v2_create:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1ServicePrincipals/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_service_principals_v2_list:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1ServicePrincipals/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.Resources
        account_service_principals_v2_delete:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1ServicePrincipals~1{id}/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_service_principals_v2_get:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1ServicePrincipals~1{id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_service_principals_v2_patch:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1ServicePrincipals~1{id}/patch'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_service_principals_v2_update:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1ServicePrincipals~1{id}/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/account_service_principals/methods/account_service_principals_v2_get'
        - $ref: '#/components/x-stackQL-resources/account_service_principals/methods/account_service_principals_v2_list'
        insert:
        - $ref: '#/components/x-stackQL-resources/account_service_principals/methods/account_service_principals_v2_create'
        update:
        - $ref: '#/components/x-stackQL-resources/account_service_principals/methods/account_service_principals_v2_patch'
        delete:
        - $ref: '#/components/x-stackQL-resources/account_service_principals/methods/account_service_principals_v2_delete'
        replace:
        - $ref: '#/components/x-stackQL-resources/account_service_principals/methods/account_service_principals_v2_update'
    account_users:
      id: databricks_account.iam.account_users
      name: account_users
      title: Account Users
      methods:
        account_users_v2_create:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Users/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_users_v2_list:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Users/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.Resources
        account_users_v2_delete:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Users~1{id}/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_users_v2_get:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Users~1{id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_users_v2_patch:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Users~1{id}/patch'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        account_users_v2_update:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1scim~1v2~1Users~1{id}/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/account_users/methods/account_users_v2_get'
        - $ref: '#/components/x-stackQL-resources/account_users/methods/account_users_v2_list'
        insert:
        - $ref: '#/components/x-stackQL-resources/account_users/methods/account_users_v2_create'
        update:
        - $ref: '#/components/x-stackQL-resources/account_users/methods/account_users_v2_patch'
        delete:
        - $ref: '#/components/x-stackQL-resources/account_users/methods/account_users_v2_delete'
        replace:
        - $ref: '#/components/x-stackQL-resources/account_users/methods/account_users_v2_update'
    workspace_assignment:
      id: databricks_account.iam.workspace_assignment
      name: workspace_assignment
      title: Workspace Assignment
      methods:
        workspace_assignment_delete:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1workspaces~1{workspace_id}~1permissionassignments~1principals~1{principal_id}/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        workspace_assignment_update:
          config:
            requestBodyTranslate:
              algorithm: naive
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1workspaces~1{workspace_id}~1permissionassignments~1principals~1{principal_id}/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        workspace_assignment_list:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1workspaces~1{workspace_id}~1permissionassignments/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.permission_assignments
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/workspace_assignment/methods/workspace_assignment_list'
        insert: []
        update: []
        delete:
        - $ref: '#/components/x-stackQL-resources/workspace_assignment/methods/workspace_assignment_delete'
        replace:
        - $ref: '#/components/x-stackQL-resources/workspace_assignment/methods/workspace_assignment_update'
    workspace_permissions:
      id: databricks_account.iam.workspace_permissions
      name: workspace_permissions
      title: Workspace Permissions
      methods:
        workspace_assignment_get:
          operation:
            $ref: '#/paths/~1api~12.0~1accounts~1{account_id}~1workspaces~1{workspace_id}~1permissionassignments~1permissions/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/workspace_permissions/methods/workspace_assignment_get'
        insert: []
        update: []
        delete: []
        replace: []
    vw_account_user_roles:
      name: vw_account_user_roles
      id: databricks_account.iam.vw_account_user_roles
      config:
        docs:
          fields:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
          - name: id
            type: string
            description: Unique identifier for the account user.
          - name: userName
            type: string
            description: Username (typically email address) of the account user.
          - name: displayName
            type: string
            description: Human-readable display name of the account user.
          - name: role
            type: string
            description: Role assigned to the user (one row per role assignment).
          requiredParams:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
                u.account_id,
                u.id,
                u.userName,
                u.displayName,
                JSON_EXTRACT(r.value, '$.value') AS role
              FROM databricks_account.iam.account_users u,
                   JSON_EACH(u.roles) r
              WHERE account_id = '{{ account_id }}'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                  u.account_id,
                  u.id,
                  u.userName,
                  u.displayName,
                  r.value->>'value' AS role
                FROM databricks_account.iam.account_users u,
                     jsonb_array_elements(u.roles::jsonb) AS r
                WHERE account_id = '{{ account_id }}'
    vw_account_group_members:
      name: vw_account_group_members
      id: databricks_account.iam.vw_account_group_members
      config:
        docs:
          fields:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
          - name: id
            type: string
            description: Unique identifier for the account group.
          - name: displayName
            type: string
            description: Human-readable display name of the account group.
          - name: member_id
            type: string
            description: Unique identifier of the group member (one row per member).
          - name: member_display
            type: string
            description: Display name of the group member.
          - name: member_ref
            type: string
            description: SCIM $ref URI for the group member resource.
          - name: member_type
            type: string
            description: Type of the member resource (e.g. User, Group, ServicePrincipal).
          requiredParams:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
                g.account_id,
                g.id,
                g.displayName,
                JSON_EXTRACT(m.value, '$.value') AS member_id,
                JSON_EXTRACT(m.value, '$.display') AS member_display,
                JSON_EXTRACT(m.value, '$.$ref') AS member_ref,
                JSON_EXTRACT(m.value, '$.type') AS member_type
              FROM databricks_account.iam.account_groups g,
                   JSON_EACH(g.members) m
              WHERE account_id = '{{ account_id }}'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                  g.account_id,
                  g.id,
                  g.displayName,
                  m.value->>'value' AS member_id,
                  m.value->>'display' AS member_display,
                  m.value->>'$ref' AS member_ref,
                  m.value->>'type' AS member_type
                FROM databricks_account.iam.account_groups g,
                     jsonb_array_elements(g.members::jsonb) AS m
                WHERE account_id = '{{ account_id }}'
    vw_account_group_roles:
      name: vw_account_group_roles
      id: databricks_account.iam.vw_account_group_roles
      config:
        docs:
          fields:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
          - name: id
            type: string
            description: Unique identifier for the account group.
          - name: displayName
            type: string
            description: Human-readable display name of the account group.
          - name: role
            type: string
            description: Role assigned to the group (one row per role assignment).
          requiredParams:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
                g.account_id,
                g.id,
                g.displayName,
                JSON_EXTRACT(r.value, '$.value') AS role
              FROM databricks_account.iam.account_groups g,
                   JSON_EACH(g.roles) r
              WHERE account_id = '{{ account_id }}'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                  g.account_id,
                  g.id,
                  g.displayName,
                  r.value->>'value' AS role
                FROM databricks_account.iam.account_groups g,
                     jsonb_array_elements(g.roles::jsonb) AS r
                WHERE account_id = '{{ account_id }}'
    vw_account_service_principal_roles:
      name: vw_account_service_principal_roles
      id: databricks_account.iam.vw_account_service_principal_roles
      config:
        docs:
          fields:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
          - name: id
            type: string
            description: Unique identifier for the service principal.
          - name: displayName
            type: string
            description: Human-readable display name of the service principal.
          - name: applicationId
            type: integer
            description: Application ID of the service principal.
          - name: active
            type: boolean
            description: Whether the service principal is active.
          - name: role
            type: string
            description: Role assigned to the service principal (one row per role assignment).
          requiredParams:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
                sp.account_id,
                sp.id,
                sp.displayName,
                sp.applicationId,
                sp.active,
                JSON_EXTRACT(r.value, '$.value') AS role
              FROM databricks_account.iam.account_service_principals sp,
                   JSON_EACH(sp.roles) r
              WHERE account_id = '{{ account_id }}'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                  sp.account_id,
                  sp.id,
                  sp.displayName,
                  sp.applicationId,
                  sp.active,
                  r.value->>'value' AS role
                FROM databricks_account.iam.account_service_principals sp,
                     jsonb_array_elements(sp.roles::jsonb) AS r
                WHERE account_id = '{{ account_id }}'
    vw_workspace_assignments:
      name: vw_workspace_assignments
      id: databricks_account.iam.vw_workspace_assignments
      config:
        docs:
          fields:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
          - name: workspace_id
            type: integer
            description: Numeric ID of the workspace used to scope the query.
          - name: principal_id
            type: integer
            description: Numeric ID of the principal assigned to the workspace.
          - name: display_name
            type: string
            description: Display name of the assigned principal.
          - name: user_name
            type: string
            description: Username of the assigned principal if the principal is a user.
          - name: group_name
            type: string
            description: Group name of the assigned principal if the principal is a group.
          - name: service_principal_name
            type: string
            description: Application name of the assigned principal if the principal is a service principal.
          - name: permission
            type: string
            description: Permission level granted to the principal on the workspace (one row per permission, e.g. USER, ADMIN).
          requiredParams:
          - name: account_id
            type: string
            description: Databricks account ID used to scope the query.
          - name: workspace_id
            type: integer
            description: Numeric ID of the workspace used to scope the query.
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
                wa.account_id,
                wa.workspace_id,
                JSON_EXTRACT(wa.principal, '$.principal_id') AS principal_id,
                JSON_EXTRACT(wa.principal, '$.display_name') AS display_name,
                JSON_EXTRACT(wa.principal, '$.user_name') AS user_name,
                JSON_EXTRACT(wa.principal, '$.group_name') AS group_name,
                JSON_EXTRACT(wa.principal, '$.service_principal_name') AS service_principal_name,
                p.value AS permission
              FROM databricks_account.iam.workspace_assignment wa,
                   JSON_EACH(wa.permissions) p
              WHERE account_id = '{{ account_id }}'
              AND workspace_id = '{{ workspace_id }}'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                  wa.account_id,
                  wa.workspace_id,
                  (wa.principal->>'principal_id')::bigint AS principal_id,
                  wa.principal->>'display_name' AS display_name,
                  wa.principal->>'user_name' AS user_name,
                  wa.principal->>'group_name' AS group_name,
                  wa.principal->>'service_principal_name' AS service_principal_name,
                  p.value AS permission
                FROM databricks_account.iam.workspace_assignment wa,
                     jsonb_array_elements(wa.permissions::jsonb) AS p
                WHERE account_id = '{{ account_id }}'
                AND workspace_id = '{{ workspace_id }}'
x-stackQL-config:
  pagination:
    requestToken:
      key: page_token
      location: query
    responseToken:
      key: next_page_token
      location: body
