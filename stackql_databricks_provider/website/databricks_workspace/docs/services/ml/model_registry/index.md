---
title: model_registry
hide_title: false
hide_table_of_contents: false
keywords:
  - model_registry
  - ml
  - databricks_workspace
  - infrastructure-as-code
  - configuration-as-data
  - cloud inventory
description: Query, deploy and manage databricks_workspace resources using SQL
custom_edit_url: null
image: /img/stackql-databricks_workspace-provider-featured-image.png
---

import CopyableCode from '@site/src/components/CopyableCode/CopyableCode';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import SchemaTable from '@site/src/components/SchemaTable/SchemaTable';

Creates, updates, deletes, gets or lists a <code>model_registry</code> resource.

## Overview
<table><tbody>
<tr><td><b>Name</b></td><td><CopyableCode code="model_registry" /></td></tr>
<tr><td><b>Type</b></td><td>Resource</td></tr>
<tr><td><b>Id</b></td><td><CopyableCode code="databricks_workspace.ml.model_registry" /></td></tr>
</tbody></table>

## Fields

The following fields are returned by `SELECT` queries:

<Tabs
    defaultValue="get"
    values={[
        { label: 'get', value: 'get' },
        { label: 'list', value: 'list' },
        { label: 'search', value: 'search' }
    ]}
>
<TabItem value="get">

<SchemaTable fields={[
  {
    "name": "registered_model_databricks",
    "type": "object",
    "description": "",
    "children": [
      {
        "name": "creation_timestamp",
        "type": "integer",
        "description": ""
      },
      {
        "name": "description",
        "type": "string",
        "description": "User-specified description for the object."
      },
      {
        "name": "id",
        "type": "string",
        "description": "Unique identifier for the object."
      },
      {
        "name": "last_updated_timestamp",
        "type": "integer",
        "description": "Last update time of the object, as a Unix timestamp in milliseconds."
      },
      {
        "name": "latest_versions",
        "type": "array",
        "description": "Array of model versions, each the latest version for its stage.",
        "children": [
          {
            "name": "creation_timestamp",
            "type": "integer",
            "description": ""
          },
          {
            "name": "current_stage",
            "type": "string",
            "description": "Current stage for this `model_version`."
          },
          {
            "name": "description",
            "type": "string",
            "description": "Description of this `model_version`."
          },
          {
            "name": "last_updated_timestamp",
            "type": "integer",
            "description": "Timestamp recorded when metadata for this `model_version` was last updated."
          },
          {
            "name": "name",
            "type": "string",
            "description": "Unique name of the model"
          },
          {
            "name": "run_id",
            "type": "string",
            "description": "MLflow run ID used when creating `model_version`, if `source` was generated by an experiment run stored in MLflow tracking server."
          },
          {
            "name": "run_link",
            "type": "string",
            "description": "Run Link: Direct link to the run that generated this version"
          },
          {
            "name": "source",
            "type": "string",
            "description": "URI indicating the location of the source model artifacts, used when creating `model_version`"
          },
          {
            "name": "status",
            "type": "string",
            "description": "Current status of `model_version` (FAILED_REGISTRATION, PENDING_REGISTRATION, READY)"
          },
          {
            "name": "status_message",
            "type": "string",
            "description": "Details on current `status`, if it is pending or failed."
          },
          {
            "name": "tags",
            "type": "array",
            "description": "Tags: Additional metadata key-value pairs for this `model_version`.",
            "children": [
              {
                "name": "key",
                "type": "string",
                "description": ""
              },
              {
                "name": "value",
                "type": "string",
                "description": "The tag value."
              }
            ]
          },
          {
            "name": "user_id",
            "type": "string",
            "description": "User that created this `model_version`."
          },
          {
            "name": "version",
            "type": "string",
            "description": "Model's version number."
          }
        ]
      },
      {
        "name": "name",
        "type": "string",
        "description": "Name of the model."
      },
      {
        "name": "permission_level",
        "type": "string",
        "description": "Permission level granted for the requesting user on this registered model (CAN_CREATE_REGISTERED_MODEL, CAN_EDIT, CAN_MANAGE, CAN_MANAGE_PRODUCTION_VERSIONS, CAN_MANAGE_STAGING_VERSIONS, CAN_READ)"
      },
      {
        "name": "tags",
        "type": "array",
        "description": "Array of tags associated with the model.",
        "children": [
          {
            "name": "key",
            "type": "string",
            "description": "The tag key."
          },
          {
            "name": "value",
            "type": "string",
            "description": "The tag value."
          }
        ]
      },
      {
        "name": "user_id",
        "type": "string",
        "description": "The username of the user that created the object."
      }
    ]
  }
]} />
</TabItem>
<TabItem value="list">

<SchemaTable fields={[
  {
    "name": "name",
    "type": "string",
    "description": "Unique name for the model."
  },
  {
    "name": "user_id",
    "type": "string",
    "description": "User that created this `registered_model`"
  },
  {
    "name": "creation_timestamp",
    "type": "integer",
    "description": ""
  },
  {
    "name": "description",
    "type": "string",
    "description": "Description of this `registered_model`."
  },
  {
    "name": "last_updated_timestamp",
    "type": "integer",
    "description": "Timestamp recorded when metadata for this `registered_model` was last updated."
  },
  {
    "name": "latest_versions",
    "type": "array",
    "description": "Collection of latest model versions for each stage. Only contains models with current `READY` status.",
    "children": [
      {
        "name": "creation_timestamp",
        "type": "integer",
        "description": ""
      },
      {
        "name": "current_stage",
        "type": "string",
        "description": "Current stage for this `model_version`."
      },
      {
        "name": "description",
        "type": "string",
        "description": "Description of this `model_version`."
      },
      {
        "name": "last_updated_timestamp",
        "type": "integer",
        "description": "Timestamp recorded when metadata for this `model_version` was last updated."
      },
      {
        "name": "name",
        "type": "string",
        "description": "Unique name of the model"
      },
      {
        "name": "run_id",
        "type": "string",
        "description": "MLflow run ID used when creating `model_version`, if `source` was generated by an experiment run stored in MLflow tracking server."
      },
      {
        "name": "run_link",
        "type": "string",
        "description": "Run Link: Direct link to the run that generated this version"
      },
      {
        "name": "source",
        "type": "string",
        "description": "URI indicating the location of the source model artifacts, used when creating `model_version`"
      },
      {
        "name": "status",
        "type": "string",
        "description": "Current status of `model_version` (FAILED_REGISTRATION, PENDING_REGISTRATION, READY)"
      },
      {
        "name": "status_message",
        "type": "string",
        "description": "Details on current `status`, if it is pending or failed."
      },
      {
        "name": "tags",
        "type": "array",
        "description": "Tags: Additional metadata key-value pairs for this `model_version`.",
        "children": [
          {
            "name": "key",
            "type": "string",
            "description": ""
          },
          {
            "name": "value",
            "type": "string",
            "description": "The tag value."
          }
        ]
      },
      {
        "name": "user_id",
        "type": "string",
        "description": "User that created this `model_version`."
      },
      {
        "name": "version",
        "type": "string",
        "description": "Model's version number."
      }
    ]
  },
  {
    "name": "tags",
    "type": "array",
    "description": "Tags: Additional metadata key-value pairs for this `registered_model`.",
    "children": [
      {
        "name": "key",
        "type": "string",
        "description": "The tag key."
      },
      {
        "name": "value",
        "type": "string",
        "description": "The tag value."
      }
    ]
  }
]} />
</TabItem>
<TabItem value="search">

<SchemaTable fields={[
  {
    "name": "name",
    "type": "string",
    "description": "Unique name for the model."
  },
  {
    "name": "user_id",
    "type": "string",
    "description": "User that created this `registered_model`"
  },
  {
    "name": "creation_timestamp",
    "type": "integer",
    "description": ""
  },
  {
    "name": "description",
    "type": "string",
    "description": "Description of this `registered_model`."
  },
  {
    "name": "last_updated_timestamp",
    "type": "integer",
    "description": "Timestamp recorded when metadata for this `registered_model` was last updated."
  },
  {
    "name": "latest_versions",
    "type": "array",
    "description": "Collection of latest model versions for each stage. Only contains models with current `READY` status.",
    "children": [
      {
        "name": "creation_timestamp",
        "type": "integer",
        "description": ""
      },
      {
        "name": "current_stage",
        "type": "string",
        "description": "Current stage for this `model_version`."
      },
      {
        "name": "description",
        "type": "string",
        "description": "Description of this `model_version`."
      },
      {
        "name": "last_updated_timestamp",
        "type": "integer",
        "description": "Timestamp recorded when metadata for this `model_version` was last updated."
      },
      {
        "name": "name",
        "type": "string",
        "description": "Unique name of the model"
      },
      {
        "name": "run_id",
        "type": "string",
        "description": "MLflow run ID used when creating `model_version`, if `source` was generated by an experiment run stored in MLflow tracking server."
      },
      {
        "name": "run_link",
        "type": "string",
        "description": "Run Link: Direct link to the run that generated this version"
      },
      {
        "name": "source",
        "type": "string",
        "description": "URI indicating the location of the source model artifacts, used when creating `model_version`"
      },
      {
        "name": "status",
        "type": "string",
        "description": "Current status of `model_version` (FAILED_REGISTRATION, PENDING_REGISTRATION, READY)"
      },
      {
        "name": "status_message",
        "type": "string",
        "description": "Details on current `status`, if it is pending or failed."
      },
      {
        "name": "tags",
        "type": "array",
        "description": "Tags: Additional metadata key-value pairs for this `model_version`.",
        "children": [
          {
            "name": "key",
            "type": "string",
            "description": ""
          },
          {
            "name": "value",
            "type": "string",
            "description": "The tag value."
          }
        ]
      },
      {
        "name": "user_id",
        "type": "string",
        "description": "User that created this `model_version`."
      },
      {
        "name": "version",
        "type": "string",
        "description": "Model's version number."
      }
    ]
  },
  {
    "name": "tags",
    "type": "array",
    "description": "Tags: Additional metadata key-value pairs for this `registered_model`.",
    "children": [
      {
        "name": "key",
        "type": "string",
        "description": "The tag key."
      },
      {
        "name": "value",
        "type": "string",
        "description": "The tag value."
      }
    ]
  }
]} />
</TabItem>
</Tabs>

## Methods

The following methods are available for this resource:

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Accessible by</th>
    <th>Required Params</th>
    <th>Optional Params</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><a href="#get"><CopyableCode code="get" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-name"><code>name</code></a>, <a href="#parameter-deployment_name"><code>deployment_name</code></a></td>
    <td></td>
    <td>Get the details of a model. This is a Databricks workspace version of the [MLflow endpoint] that also</td>
</tr>
<tr>
    <td><a href="#list"><CopyableCode code="list" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-deployment_name"><code>deployment_name</code></a></td>
    <td><a href="#parameter-max_results"><code>max_results</code></a>, <a href="#parameter-page_token"><code>page_token</code></a></td>
    <td>Lists all available registered models, up to the limit specified in __max_results__.</td>
</tr>
<tr>
    <td><a href="#search"><CopyableCode code="search" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-filter"><code>filter</code></a>, <a href="#parameter-deployment_name"><code>deployment_name</code></a></td>
    <td><a href="#parameter-max_results"><code>max_results</code></a>, <a href="#parameter-order_by"><code>order_by</code></a>, <a href="#parameter-page_token"><code>page_token</code></a></td>
    <td>Search for registered models based on the specified __filter__.</td>
</tr>
<tr>
    <td><a href="#create"><CopyableCode code="create" /></a></td>
    <td><CopyableCode code="insert" /></td>
    <td><a href="#parameter-deployment_name"><code>deployment_name</code></a>, <a href="#parameter-name"><code>name</code></a></td>
    <td></td>
    <td>Creates a new registered model with the name specified in the request body. Throws</td>
</tr>
<tr>
    <td><a href="#update"><CopyableCode code="update" /></a></td>
    <td><CopyableCode code="update" /></td>
    <td><a href="#parameter-deployment_name"><code>deployment_name</code></a>, <a href="#parameter-name"><code>name</code></a></td>
    <td></td>
    <td>Updates a registered model.</td>
</tr>
<tr>
    <td><a href="#delete"><CopyableCode code="delete" /></a></td>
    <td><CopyableCode code="delete" /></td>
    <td><a href="#parameter-name"><code>name</code></a>, <a href="#parameter-deployment_name"><code>deployment_name</code></a></td>
    <td></td>
    <td>Deletes a registered model.</td>
</tr>
<tr>
    <td><a href="#delete_tag"><CopyableCode code="delete_tag" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-name"><code>name</code></a>, <a href="#parameter-key"><code>key</code></a>, <a href="#parameter-deployment_name"><code>deployment_name</code></a></td>
    <td></td>
    <td>Deletes the tag for a registered model.</td>
</tr>
<tr>
    <td><a href="#rename"><CopyableCode code="rename" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-deployment_name"><code>deployment_name</code></a>, <a href="#parameter-name"><code>name</code></a></td>
    <td></td>
    <td>Renames a registered model.</td>
</tr>
<tr>
    <td><a href="#set_tag"><CopyableCode code="set_tag" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-deployment_name"><code>deployment_name</code></a>, <a href="#parameter-name"><code>name</code></a>, <a href="#parameter-key"><code>key</code></a>, <a href="#parameter-value"><code>value</code></a></td>
    <td></td>
    <td>Sets a tag on a registered model.</td>
</tr>
</tbody>
</table>

## Parameters

Parameters can be passed in the `WHERE` clause of a query. Check the [Methods](#methods) section to see which parameters are required or optional for each operation.

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr id="parameter-deployment_name">
    <td><CopyableCode code="deployment_name" /></td>
    <td><code>string</code></td>
    <td>The Databricks Workspace Deployment Name (default: dbc-abcd0123-a1bc)</td>
</tr>
<tr id="parameter-filter">
    <td><CopyableCode code="filter" /></td>
    <td><code>string</code></td>
    <td>String filter condition, like "name LIKE 'my-model-name'". Interpreted in the backend automatically as "name LIKE '%my-model-name%'". Single boolean condition, with string values wrapped in single quotes.</td>
</tr>
<tr id="parameter-key">
    <td><CopyableCode code="key" /></td>
    <td><code>string</code></td>
    <td>Name of the tag. The name must be an exact match; wild-card deletion is not supported. Maximum size is 250 bytes.</td>
</tr>
<tr id="parameter-name">
    <td><CopyableCode code="name" /></td>
    <td><code>string</code></td>
    <td>Name of the registered model that the tag was logged under.</td>
</tr>
<tr id="parameter-max_results">
    <td><CopyableCode code="max_results" /></td>
    <td><code>string</code></td>
    <td>Maximum number of models desired. Default is 100. Max threshold is 1000.</td>
</tr>
<tr id="parameter-order_by">
    <td><CopyableCode code="order_by" /></td>
    <td><code>string</code></td>
    <td>List of columns for ordering search results, which can include model name and last updated timestamp with an optional "DESC" or "ASC" annotation, where "ASC" is the default. Tiebreaks are done by model name ASC.</td>
</tr>
<tr id="parameter-page_token">
    <td><CopyableCode code="page_token" /></td>
    <td><code>string</code></td>
    <td>Pagination token to go to the next page based on a previous search query.</td>
</tr>
</tbody>
</table>

## `SELECT` examples

<Tabs
    defaultValue="get"
    values={[
        { label: 'get', value: 'get' },
        { label: 'list', value: 'list' },
        { label: 'search', value: 'search' }
    ]}
>
<TabItem value="get">

Get the details of a model. This is a Databricks workspace version of the [MLflow endpoint] that also

```sql
SELECT
registered_model_databricks
FROM databricks_workspace.ml.model_registry
WHERE name = '{{ name }}' -- required
AND deployment_name = '{{ deployment_name }}' -- required
;
```
</TabItem>
<TabItem value="list">

Lists all available registered models, up to the limit specified in __max_results__.

```sql
SELECT
name,
user_id,
creation_timestamp,
description,
last_updated_timestamp,
latest_versions,
tags
FROM databricks_workspace.ml.model_registry
WHERE deployment_name = '{{ deployment_name }}' -- required
AND max_results = '{{ max_results }}'
AND page_token = '{{ page_token }}'
;
```
</TabItem>
<TabItem value="search">

Search for registered models based on the specified __filter__.

```sql
SELECT
name,
user_id,
creation_timestamp,
description,
last_updated_timestamp,
latest_versions,
tags
FROM databricks_workspace.ml.model_registry
WHERE filter = '{{ filter }}' -- required
AND deployment_name = '{{ deployment_name }}' -- required
AND max_results = '{{ max_results }}'
AND order_by = '{{ order_by }}'
AND page_token = '{{ page_token }}'
;
```
</TabItem>
</Tabs>


## `INSERT` examples

<Tabs
    defaultValue="create"
    values={[
        { label: 'create', value: 'create' },
        { label: 'Manifest', value: 'manifest' }
    ]}
>
<TabItem value="create">

Creates a new registered model with the name specified in the request body. Throws

```sql
INSERT INTO databricks_workspace.ml.model_registry (
name,
description,
tags,
deployment_name
)
SELECT 
'{{ name }}' /* required */,
'{{ description }}',
'{{ tags }}',
'{{ deployment_name }}'
RETURNING
registered_model
;
```
</TabItem>
<TabItem value="manifest">

```yaml
# Description fields are for documentation purposes
- name: model_registry
  props:
    - name: deployment_name
      value: string
      description: Required parameter for the model_registry resource.
    - name: name
      value: string
      description: |
        Register models under this name
    - name: description
      value: string
      description: |
        Optional description for registered model.
    - name: tags
      value: string
      description: |
        Additional metadata for registered model.
```
</TabItem>
</Tabs>


## `UPDATE` examples

<Tabs
    defaultValue="update"
    values={[
        { label: 'update', value: 'update' }
    ]}
>
<TabItem value="update">

Updates a registered model.

```sql
UPDATE databricks_workspace.ml.model_registry
SET 
name = '{{ name }}',
description = '{{ description }}'
WHERE 
deployment_name = '{{ deployment_name }}' --required
AND name = '{{ name }}' --required
RETURNING
registered_model;
```
</TabItem>
</Tabs>


## `DELETE` examples

<Tabs
    defaultValue="delete"
    values={[
        { label: 'delete', value: 'delete' }
    ]}
>
<TabItem value="delete">

Deletes a registered model.

```sql
DELETE FROM databricks_workspace.ml.model_registry
WHERE name = '{{ name }}' --required
AND deployment_name = '{{ deployment_name }}' --required
;
```
</TabItem>
</Tabs>


## Lifecycle Methods

<Tabs
    defaultValue="delete_tag"
    values={[
        { label: 'delete_tag', value: 'delete_tag' },
        { label: 'rename', value: 'rename' },
        { label: 'set_tag', value: 'set_tag' }
    ]}
>
<TabItem value="delete_tag">

Deletes the tag for a registered model.

```sql
EXEC databricks_workspace.ml.model_registry.delete_tag 
@name='{{ name }}' --required, 
@key='{{ key }}' --required, 
@deployment_name='{{ deployment_name }}' --required
;
```
</TabItem>
<TabItem value="rename">

Renames a registered model.

```sql
EXEC databricks_workspace.ml.model_registry.rename 
@deployment_name='{{ deployment_name }}' --required 
@@json=
'{
"name": "{{ name }}", 
"new_name": "{{ new_name }}"
}'
;
```
</TabItem>
<TabItem value="set_tag">

Sets a tag on a registered model.

```sql
EXEC databricks_workspace.ml.model_registry.set_tag 
@deployment_name='{{ deployment_name }}' --required 
@@json=
'{
"name": "{{ name }}", 
"key": "{{ key }}", 
"value": "{{ value }}"
}'
;
```
</TabItem>
</Tabs>
