---
title: model_versions
hide_title: false
hide_table_of_contents: false
keywords:
  - model_versions
  - catalog
  - databricks_workspace
  - infrastructure-as-code
  - configuration-as-data
  - cloud inventory
description: Query, deploy and manage databricks_workspace resources using SQL
custom_edit_url: null
image: /img/stackql-databricks_workspace-provider-featured-image.png
---

import CopyableCode from '@site/src/components/CopyableCode/CopyableCode';
import CodeBlock from '@theme/CodeBlock';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import SchemaTable from '@site/src/components/SchemaTable/SchemaTable';

Creates, updates, deletes, gets or lists a <code>model_versions</code> resource.

## Overview
<table><tbody>
<tr><td><b>Name</b></td><td><CopyableCode code="model_versions" /></td></tr>
<tr><td><b>Type</b></td><td>Resource</td></tr>
<tr><td><b>Id</b></td><td><CopyableCode code="databricks_workspace.catalog.model_versions" /></td></tr>
</tbody></table>

## Fields

The following fields are returned by `SELECT` queries:

<Tabs
    defaultValue="get"
    values={[
        { label: 'get', value: 'get' },
        { label: 'get_by_alias', value: 'get_by_alias' },
        { label: 'list', value: 'list' }
    ]}
>
<TabItem value="get">

<SchemaTable fields={[
  {
    "name": "id",
    "type": "string",
    "description": "The unique identifier of the model version"
  },
  {
    "name": "metastore_id",
    "type": "string",
    "description": "The unique identifier of the metastore containing the model version"
  },
  {
    "name": "run_id",
    "type": "string",
    "description": "MLflow run ID used when creating the model version, if ``source`` was generated by an experiment run stored in an MLflow tracking server"
  },
  {
    "name": "run_workspace_id",
    "type": "integer",
    "description": "ID of the Databricks workspace containing the MLflow run that generated this model version, if applicable"
  },
  {
    "name": "catalog_name",
    "type": "string",
    "description": "The name of the catalog containing the model version"
  },
  {
    "name": "model_name",
    "type": "string",
    "description": "The name of the parent registered model of the model version, relative to parent schema"
  },
  {
    "name": "schema_name",
    "type": "string",
    "description": "The name of the schema containing the model version, relative to parent catalog"
  },
  {
    "name": "aliases",
    "type": "array",
    "description": "",
    "children": [
      {
        "name": "alias_name",
        "type": "string",
        "description": ""
      },
      {
        "name": "catalog_name",
        "type": "string",
        "description": "The name of the catalog containing the model version"
      },
      {
        "name": "id",
        "type": "string",
        "description": "The unique identifier of the alias"
      },
      {
        "name": "model_name",
        "type": "string",
        "description": "The name of the parent registered model of the model version, relative to parent schema"
      },
      {
        "name": "schema_name",
        "type": "string",
        "description": "The name of the schema containing the model version, relative to parent catalog"
      },
      {
        "name": "version_num",
        "type": "integer",
        "description": "Integer version number of the model version to which this alias points."
      }
    ]
  },
  {
    "name": "comment",
    "type": "string",
    "description": "The comment attached to the model version"
  },
  {
    "name": "created_at",
    "type": "integer",
    "description": ""
  },
  {
    "name": "created_by",
    "type": "string",
    "description": "The identifier of the user who created the model version"
  },
  {
    "name": "model_version_dependencies",
    "type": "object",
    "description": "Model version dependencies, for feature-store packaged models",
    "children": [
      {
        "name": "dependencies",
        "type": "array",
        "description": "Array of dependencies.",
        "children": [
          {
            "name": "connection",
            "type": "object",
            "description": "A connection that is dependent on a SQL object.",
            "children": [
              {
                "name": "connection_name",
                "type": "string",
                "description": "Full name of the dependent connection, in the form of __connection_name__."
              }
            ]
          },
          {
            "name": "credential",
            "type": "object",
            "description": "A credential that is dependent on a SQL object.",
            "children": [
              {
                "name": "credential_name",
                "type": "string",
                "description": "Full name of the dependent credential, in the form of __credential_name__."
              }
            ]
          },
          {
            "name": "function",
            "type": "object",
            "description": "A function that is dependent on a SQL object.",
            "children": [
              {
                "name": "function_full_name",
                "type": "string",
                "description": "Full name of the dependent function, in the form of __catalog_name__.__schema_name__.__function_name__."
              }
            ]
          },
          {
            "name": "table",
            "type": "object",
            "description": "A table that is dependent on a SQL object.",
            "children": [
              {
                "name": "table_full_name",
                "type": "string",
                "description": "Full name of the dependent table, in the form of __catalog_name__.__schema_name__.__table_name__."
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "source",
    "type": "string",
    "description": "URI indicating the location of the source artifacts (files) for the model version"
  },
  {
    "name": "status",
    "type": "string",
    "description": "Current status of the model version. Newly created model versions start in PENDING_REGISTRATION status, then move to READY status once the model version files are uploaded and the model version is finalized. Only model versions in READY status can be loaded for inference or served. (FAILED_REGISTRATION, MODEL_VERSION_STATUS_UNKNOWN, PENDING_REGISTRATION, READY)"
  },
  {
    "name": "storage_location",
    "type": "string",
    "description": "The storage location on the cloud under which model version data files are stored"
  },
  {
    "name": "updated_at",
    "type": "integer",
    "description": ""
  },
  {
    "name": "updated_by",
    "type": "string",
    "description": "The identifier of the user who updated the model version last time"
  },
  {
    "name": "version",
    "type": "integer",
    "description": "Integer model version number, used to reference the model version in API requests."
  }
]} />
</TabItem>
<TabItem value="get_by_alias">

<SchemaTable fields={[
  {
    "name": "id",
    "type": "string",
    "description": "The unique identifier of the model version"
  },
  {
    "name": "metastore_id",
    "type": "string",
    "description": "The unique identifier of the metastore containing the model version"
  },
  {
    "name": "run_id",
    "type": "string",
    "description": "MLflow run ID used when creating the model version, if ``source`` was generated by an experiment run stored in an MLflow tracking server"
  },
  {
    "name": "run_workspace_id",
    "type": "integer",
    "description": "ID of the Databricks workspace containing the MLflow run that generated this model version, if applicable"
  },
  {
    "name": "catalog_name",
    "type": "string",
    "description": "The name of the catalog containing the model version"
  },
  {
    "name": "model_name",
    "type": "string",
    "description": "The name of the parent registered model of the model version, relative to parent schema"
  },
  {
    "name": "schema_name",
    "type": "string",
    "description": "The name of the schema containing the model version, relative to parent catalog"
  },
  {
    "name": "aliases",
    "type": "array",
    "description": "",
    "children": [
      {
        "name": "alias_name",
        "type": "string",
        "description": ""
      },
      {
        "name": "catalog_name",
        "type": "string",
        "description": "The name of the catalog containing the model version"
      },
      {
        "name": "id",
        "type": "string",
        "description": "The unique identifier of the alias"
      },
      {
        "name": "model_name",
        "type": "string",
        "description": "The name of the parent registered model of the model version, relative to parent schema"
      },
      {
        "name": "schema_name",
        "type": "string",
        "description": "The name of the schema containing the model version, relative to parent catalog"
      },
      {
        "name": "version_num",
        "type": "integer",
        "description": "Integer version number of the model version to which this alias points."
      }
    ]
  },
  {
    "name": "comment",
    "type": "string",
    "description": "The comment attached to the model version"
  },
  {
    "name": "created_at",
    "type": "integer",
    "description": ""
  },
  {
    "name": "created_by",
    "type": "string",
    "description": "The identifier of the user who created the model version"
  },
  {
    "name": "model_version_dependencies",
    "type": "object",
    "description": "Model version dependencies, for feature-store packaged models",
    "children": [
      {
        "name": "dependencies",
        "type": "array",
        "description": "Array of dependencies.",
        "children": [
          {
            "name": "connection",
            "type": "object",
            "description": "A connection that is dependent on a SQL object.",
            "children": [
              {
                "name": "connection_name",
                "type": "string",
                "description": "Full name of the dependent connection, in the form of __connection_name__."
              }
            ]
          },
          {
            "name": "credential",
            "type": "object",
            "description": "A credential that is dependent on a SQL object.",
            "children": [
              {
                "name": "credential_name",
                "type": "string",
                "description": "Full name of the dependent credential, in the form of __credential_name__."
              }
            ]
          },
          {
            "name": "function",
            "type": "object",
            "description": "A function that is dependent on a SQL object.",
            "children": [
              {
                "name": "function_full_name",
                "type": "string",
                "description": "Full name of the dependent function, in the form of __catalog_name__.__schema_name__.__function_name__."
              }
            ]
          },
          {
            "name": "table",
            "type": "object",
            "description": "A table that is dependent on a SQL object.",
            "children": [
              {
                "name": "table_full_name",
                "type": "string",
                "description": "Full name of the dependent table, in the form of __catalog_name__.__schema_name__.__table_name__."
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "source",
    "type": "string",
    "description": "URI indicating the location of the source artifacts (files) for the model version"
  },
  {
    "name": "status",
    "type": "string",
    "description": "Current status of the model version. Newly created model versions start in PENDING_REGISTRATION status, then move to READY status once the model version files are uploaded and the model version is finalized. Only model versions in READY status can be loaded for inference or served. (FAILED_REGISTRATION, MODEL_VERSION_STATUS_UNKNOWN, PENDING_REGISTRATION, READY)"
  },
  {
    "name": "storage_location",
    "type": "string",
    "description": "The storage location on the cloud under which model version data files are stored"
  },
  {
    "name": "updated_at",
    "type": "integer",
    "description": ""
  },
  {
    "name": "updated_by",
    "type": "string",
    "description": "The identifier of the user who updated the model version last time"
  },
  {
    "name": "version",
    "type": "integer",
    "description": "Integer model version number, used to reference the model version in API requests."
  }
]} />
</TabItem>
<TabItem value="list">

<SchemaTable fields={[
  {
    "name": "id",
    "type": "string",
    "description": "The unique identifier of the model version"
  },
  {
    "name": "metastore_id",
    "type": "string",
    "description": "The unique identifier of the metastore containing the model version"
  },
  {
    "name": "run_id",
    "type": "string",
    "description": "MLflow run ID used when creating the model version, if ``source`` was generated by an experiment run stored in an MLflow tracking server"
  },
  {
    "name": "run_workspace_id",
    "type": "integer",
    "description": "ID of the Databricks workspace containing the MLflow run that generated this model version, if applicable"
  },
  {
    "name": "catalog_name",
    "type": "string",
    "description": "The name of the catalog containing the model version"
  },
  {
    "name": "model_name",
    "type": "string",
    "description": "The name of the parent registered model of the model version, relative to parent schema"
  },
  {
    "name": "schema_name",
    "type": "string",
    "description": "The name of the schema containing the model version, relative to parent catalog"
  },
  {
    "name": "aliases",
    "type": "array",
    "description": "",
    "children": [
      {
        "name": "alias_name",
        "type": "string",
        "description": ""
      },
      {
        "name": "catalog_name",
        "type": "string",
        "description": "The name of the catalog containing the model version"
      },
      {
        "name": "id",
        "type": "string",
        "description": "The unique identifier of the alias"
      },
      {
        "name": "model_name",
        "type": "string",
        "description": "The name of the parent registered model of the model version, relative to parent schema"
      },
      {
        "name": "schema_name",
        "type": "string",
        "description": "The name of the schema containing the model version, relative to parent catalog"
      },
      {
        "name": "version_num",
        "type": "integer",
        "description": "Integer version number of the model version to which this alias points."
      }
    ]
  },
  {
    "name": "comment",
    "type": "string",
    "description": "The comment attached to the model version"
  },
  {
    "name": "created_at",
    "type": "integer",
    "description": ""
  },
  {
    "name": "created_by",
    "type": "string",
    "description": "The identifier of the user who created the model version"
  },
  {
    "name": "model_version_dependencies",
    "type": "object",
    "description": "Model version dependencies, for feature-store packaged models",
    "children": [
      {
        "name": "dependencies",
        "type": "array",
        "description": "Array of dependencies.",
        "children": [
          {
            "name": "connection",
            "type": "object",
            "description": "A connection that is dependent on a SQL object.",
            "children": [
              {
                "name": "connection_name",
                "type": "string",
                "description": "Full name of the dependent connection, in the form of __connection_name__."
              }
            ]
          },
          {
            "name": "credential",
            "type": "object",
            "description": "A credential that is dependent on a SQL object.",
            "children": [
              {
                "name": "credential_name",
                "type": "string",
                "description": "Full name of the dependent credential, in the form of __credential_name__."
              }
            ]
          },
          {
            "name": "function",
            "type": "object",
            "description": "A function that is dependent on a SQL object.",
            "children": [
              {
                "name": "function_full_name",
                "type": "string",
                "description": "Full name of the dependent function, in the form of __catalog_name__.__schema_name__.__function_name__."
              }
            ]
          },
          {
            "name": "table",
            "type": "object",
            "description": "A table that is dependent on a SQL object.",
            "children": [
              {
                "name": "table_full_name",
                "type": "string",
                "description": "Full name of the dependent table, in the form of __catalog_name__.__schema_name__.__table_name__."
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "source",
    "type": "string",
    "description": "URI indicating the location of the source artifacts (files) for the model version"
  },
  {
    "name": "status",
    "type": "string",
    "description": "Current status of the model version. Newly created model versions start in PENDING_REGISTRATION status, then move to READY status once the model version files are uploaded and the model version is finalized. Only model versions in READY status can be loaded for inference or served. (FAILED_REGISTRATION, MODEL_VERSION_STATUS_UNKNOWN, PENDING_REGISTRATION, READY)"
  },
  {
    "name": "storage_location",
    "type": "string",
    "description": "The storage location on the cloud under which model version data files are stored"
  },
  {
    "name": "updated_at",
    "type": "integer",
    "description": ""
  },
  {
    "name": "updated_by",
    "type": "string",
    "description": "The identifier of the user who updated the model version last time"
  },
  {
    "name": "version",
    "type": "integer",
    "description": "Integer model version number, used to reference the model version in API requests."
  }
]} />
</TabItem>
</Tabs>

## Methods

The following methods are available for this resource:

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Accessible by</th>
    <th>Required Params</th>
    <th>Optional Params</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><a href="#get"><CopyableCode code="get" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-full_name"><code>full_name</code></a>, <a href="#parameter-version"><code>version</code></a>, <a href="#parameter-workspace"><code>workspace</code></a></td>
    <td><a href="#parameter-include_aliases"><code>include_aliases</code></a>, <a href="#parameter-include_browse"><code>include_browse</code></a></td>
    <td>Get a model version.</td>
</tr>
<tr>
    <td><a href="#get_by_alias"><CopyableCode code="get_by_alias" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-full_name"><code>full_name</code></a>, <a href="#parameter-alias"><code>alias</code></a>, <a href="#parameter-workspace"><code>workspace</code></a></td>
    <td><a href="#parameter-include_aliases"><code>include_aliases</code></a></td>
    <td>Get a model version by alias.</td>
</tr>
<tr>
    <td><a href="#list"><CopyableCode code="list" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-full_name"><code>full_name</code></a>, <a href="#parameter-workspace"><code>workspace</code></a></td>
    <td><a href="#parameter-include_browse"><code>include_browse</code></a>, <a href="#parameter-max_results"><code>max_results</code></a>, <a href="#parameter-page_token"><code>page_token</code></a></td>
    <td>List model versions. You can list model versions under a particular schema, or list all model versions</td>
</tr>
<tr>
    <td><a href="#update"><CopyableCode code="update" /></a></td>
    <td><CopyableCode code="update" /></td>
    <td><a href="#parameter-full_name"><code>full_name</code></a>, <a href="#parameter-version"><code>version</code></a>, <a href="#parameter-workspace"><code>workspace</code></a></td>
    <td></td>
    <td>Updates the specified model version.</td>
</tr>
<tr>
    <td><a href="#delete"><CopyableCode code="delete" /></a></td>
    <td><CopyableCode code="delete" /></td>
    <td><a href="#parameter-full_name"><code>full_name</code></a>, <a href="#parameter-version"><code>version</code></a>, <a href="#parameter-workspace"><code>workspace</code></a></td>
    <td></td>
    <td>Deletes a model version from the specified registered model. Any aliases assigned to the model version</td>
</tr>
</tbody>
</table>

## Parameters

Parameters can be passed in the `WHERE` clause of a query. Check the [Methods](#methods) section to see which parameters are required or optional for each operation.

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr id="parameter-alias">
    <td><CopyableCode code="alias" /></td>
    <td><code>string</code></td>
    <td>The name of the alias</td>
</tr>
<tr id="parameter-full_name">
    <td><CopyableCode code="full_name" /></td>
    <td><code>string</code></td>
    <td>The three-level (fully qualified) name of the model version</td>
</tr>
<tr id="parameter-version">
    <td><CopyableCode code="version" /></td>
    <td><code>integer</code></td>
    <td>The integer version number of the model version</td>
</tr>
<tr id="parameter-workspace">
    <td><CopyableCode code="workspace" /></td>
    <td><code>string</code></td>
    <td>Your Databricks workspace name (default: your-workspace)</td>
</tr>
<tr id="parameter-include_aliases">
    <td><CopyableCode code="include_aliases" /></td>
    <td><code>boolean</code></td>
    <td>Whether to include aliases associated with the model version in the response</td>
</tr>
<tr id="parameter-include_browse">
    <td><CopyableCode code="include_browse" /></td>
    <td><code>boolean</code></td>
    <td>Whether to include model versions in the response for which the principal can only access selective metadata for</td>
</tr>
<tr id="parameter-max_results">
    <td><CopyableCode code="max_results" /></td>
    <td><code>integer</code></td>
    <td>Maximum number of model versions to return. If not set, the page length is set to a server configured value (100, as of 1/3/2024). - when set to a value greater than 0, the page length is the minimum of this value and a server configured value(1000, as of 1/3/2024); - when set to 0, the page length is set to a server configured value (100, as of 1/3/2024) (recommended); - when set to a value less than 0, an invalid parameter error is returned;</td>
</tr>
<tr id="parameter-page_token">
    <td><CopyableCode code="page_token" /></td>
    <td><code>string</code></td>
    <td>Opaque pagination token to go to next page based on previous query.</td>
</tr>
</tbody>
</table>

## `SELECT` examples

<Tabs
    defaultValue="get"
    values={[
        { label: 'get', value: 'get' },
        { label: 'get_by_alias', value: 'get_by_alias' },
        { label: 'list', value: 'list' }
    ]}
>
<TabItem value="get">

Get a model version.

```sql
SELECT
id,
metastore_id,
run_id,
run_workspace_id,
catalog_name,
model_name,
schema_name,
aliases,
comment,
created_at,
created_by,
model_version_dependencies,
source,
status,
storage_location,
updated_at,
updated_by,
version
FROM databricks_workspace.catalog.model_versions
WHERE full_name = '{{ full_name }}' -- required
AND version = '{{ version }}' -- required
AND workspace = '{{ workspace }}' -- required
AND include_aliases = '{{ include_aliases }}'
AND include_browse = '{{ include_browse }}'
;
```
</TabItem>
<TabItem value="get_by_alias">

Get a model version by alias.

```sql
SELECT
id,
metastore_id,
run_id,
run_workspace_id,
catalog_name,
model_name,
schema_name,
aliases,
comment,
created_at,
created_by,
model_version_dependencies,
source,
status,
storage_location,
updated_at,
updated_by,
version
FROM databricks_workspace.catalog.model_versions
WHERE full_name = '{{ full_name }}' -- required
AND alias = '{{ alias }}' -- required
AND workspace = '{{ workspace }}' -- required
AND include_aliases = '{{ include_aliases }}'
;
```
</TabItem>
<TabItem value="list">

List model versions. You can list model versions under a particular schema, or list all model versions

```sql
SELECT
id,
metastore_id,
run_id,
run_workspace_id,
catalog_name,
model_name,
schema_name,
aliases,
comment,
created_at,
created_by,
model_version_dependencies,
source,
status,
storage_location,
updated_at,
updated_by,
version
FROM databricks_workspace.catalog.model_versions
WHERE full_name = '{{ full_name }}' -- required
AND workspace = '{{ workspace }}' -- required
AND include_browse = '{{ include_browse }}'
AND max_results = '{{ max_results }}'
AND page_token = '{{ page_token }}'
;
```
</TabItem>
</Tabs>


## `UPDATE` examples

<Tabs
    defaultValue="update"
    values={[
        { label: 'update', value: 'update' }
    ]}
>
<TabItem value="update">

Updates the specified model version.

```sql
UPDATE databricks_workspace.catalog.model_versions
SET 
aliases = '{{ aliases }}',
catalog_name = '{{ catalog_name }}',
comment = '{{ comment }}',
created_at = {{ created_at }},
created_by = '{{ created_by }}',
id = '{{ id }}',
metastore_id = '{{ metastore_id }}',
model_name = '{{ model_name }}',
model_version_dependencies = '{{ model_version_dependencies }}',
run_id = '{{ run_id }}',
run_workspace_id = {{ run_workspace_id }},
schema_name = '{{ schema_name }}',
source = '{{ source }}',
status = '{{ status }}',
storage_location = '{{ storage_location }}',
updated_at = {{ updated_at }},
updated_by = '{{ updated_by }}'
WHERE 
full_name = '{{ full_name }}' --required
AND version = '{{ version }}' --required
AND workspace = '{{ workspace }}' --required
RETURNING
id,
metastore_id,
run_id,
run_workspace_id,
catalog_name,
model_name,
schema_name,
aliases,
comment,
created_at,
created_by,
model_version_dependencies,
source,
status,
storage_location,
updated_at,
updated_by,
version;
```
</TabItem>
</Tabs>


## `DELETE` examples

<Tabs
    defaultValue="delete"
    values={[
        { label: 'delete', value: 'delete' }
    ]}
>
<TabItem value="delete">

Deletes a model version from the specified registered model. Any aliases assigned to the model version

```sql
DELETE FROM databricks_workspace.catalog.model_versions
WHERE full_name = '{{ full_name }}' --required
AND version = '{{ version }}' --required
AND workspace = '{{ workspace }}' --required
;
```
</TabItem>
</Tabs>
